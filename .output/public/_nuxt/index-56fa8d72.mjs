import{_,r as b,o as l,c as m,b as i,w as p,F as h,l as S,j as v,z as G,v as w,x as g,d as t,A as C,k as I,a as k,t as f,u,m as R,y as V,e as T,h as y,i as P}from"./entry-1850d481.mjs";import{I as x}from"./ImagePreloader-590ffd53.mjs";import{C as q,N as E,P as z,a as A,R as O}from"./NewComment-ec9bead1.mjs";import{_ as M}from"./UserToFollowItem-bb6dbc80.mjs";const D={components:{ComentarioComponent:q,NewComment:E},data(){return{comments:this.bestComments}},props:["postId","bestComments"],emits:["contadorActualizado"],methods:{onCommented(e){this.comments.push(e)},contadorActualizado(e){this.$emit("contadorActualizado",e)}}},W=e=>(w("data-v-e56ed4cc"),e=e(),g(),e),J=W(()=>t("hr",{class:"my-0"},null,-1));function K(e,r,o,s,c,n){const a=b("comentario-component"),d=b("NewComment");return l(),m(h,null,[J,i(G,{name:"grupo-comentarios"},{default:p(()=>[(l(!0),m(h,null,S(c.comments,$=>(l(),v(a,{"hide-options":!0,"post-id":o.postId,key:$.id,comentario:$},null,8,["post-id","comentario"]))),128))]),_:1}),i(d,{"post-id":o.postId,onCommented:n.onCommented,onContadorActualizado:n.contadorActualizado},null,8,["post-id","onCommented","onContadorActualizado"])],64)}var L=_(D,[["render",K],["__scopeId","data-v-e56ed4cc"]]);const Q={data(){return{is_mounted:!1}},mounted(){this.is_mounted=!0}};function X(e,r,o,s,c,n){return c.is_mounted?C(e.$slots,"default",{key:0}):I("",!0)}var j=_(Q,[["render",X]]);const Y={components:{ImagePreloader:x,PostMenu:z,PetIconList:A,ReactAndCommentButtons:O,BestComments:L,DisplayOnMounted:j},setup(){return{mainStore:u()}},data(){return{reactions_count:this.post.reactions_count,comments_count:this.post.comments_count,my_reaction:this.post.my_reaction}},props:["post"],provide(){return{postId:this.post.id,clickTimeout:null}},methods:{reactLove(){this.my_reaction||this.react()},react(e){this.my_reaction=e.own_reaction,this.reactions_count=e.reactions_count},contadorActualizado(e){this.comments_count=e},clickHandler(){this.clickTimeout?(clearTimeout(this.clickTimeout),this.clickTimeout=null,this.doubleclick()):this.clickTimeout=setTimeout(()=>{this.click(),this.clickTimeout=null},250)},click(){this.$router.push(`/posts/${this.post.id}`)},doubleclick(){this.reactLove()}}},Z=Object.assign(Y,{setup(e,{expose:r}){r();const o={ImagePreloader:x,PostMenu:z,PetIconList:A,ReactAndCommentButtons:O,BestComments:L,DisplayOnMounted:j,useMainStore:u,t:R,timeAgo:V};return Object.defineProperty(o,"__isScriptSetup",{enumerable:!1,value:!0}),o}}),tt=e=>(w("data-v-46321a5b"),e=e(),g(),e),et={class:"card card-post shadow-sm f-rubick mb-4"},ot={class:"card-body pb-0"},st={class:"row g-0"},nt={class:"col-auto"},ct={class:"col px-2"},at={class:"d-block text-black-50 fs-6",role:"button"},it={class:"col-auto"},rt=tt(()=>t("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32.055 32.055",width:"20",height:"20",class:"text-black-50",fill:"currentColor","data-bs-toggle":"dropdown","aria-expanded":"false"},[t("path",{d:`M3.968,12.061C1.775,12.061,0,13.835,0,16.027c0,2.192,1.773,3.967,3.968,3.967c2.189,0,3.966-1.772,3.966-3.967
              C7.934,13.835,6.157,12.061,3.968,12.061z M16.233,12.061c-2.188,0-3.968,1.773-3.968,3.965c0,2.192,1.778,3.967,3.968,3.967
              s3.97-1.772,3.97-3.967C20.201,13.835,18.423,12.061,16.233,12.061z M28.09,12.061c-2.192,0-3.969,1.774-3.969,3.967
              c0,2.19,1.774,3.965,3.969,3.965c2.188,0,3.965-1.772,3.965-3.965S30.278,12.061,28.09,12.061z`})],-1)),lt={class:"fs-6 mt-1 mb-1 text-muted"},dt={class:"my-2 position-relative"};function mt(e,r,o,s,c,n){const a=T;return l(),m("div",et,[t("div",ot,[t("div",st,[t("div",nt,[i(a,{to:"/@"+o.post.user.username},{default:p(()=>[i(s.ImagePreloader,{image:o.post.user.image,class:"img-user-post shadow"},null,8,["image"])]),_:1},8,["to"])]),t("div",ct,[i(a,{to:"/@"+o.post.user.username,class:"name-user-post fw-bold text-decoration-none text-dark"},{default:p(()=>[k(f(o.post.user.name),1)]),_:1},8,["to"]),t("span",at,[t("small",null,f(s.timeAgo(o.post.created_at)),1)])]),t("div",it,[rt,i(s.PostMenu,{"post-id":o.post.id},null,8,["post-id"])])]),t("p",lt,f(o.post.simple_post.description),1),i(s.DisplayOnMounted,null,{default:p(()=>[o.post.pets_count?(l(),v(s.PetIconList,{key:0,pets:o.post.pets,"pets-count":o.post.pets_count},null,8,["pets","pets-count"])):I("",!0)]),_:1}),t("div",dt,[i(s.ImagePreloader,{aspect:o.post.simple_post.image.aspect_ratio,option:"url_lg",image:o.post.simple_post.image,class:"rounded-5 w-100 shadow-sm"},null,8,["aspect","image"]),t("div",{class:"position-absolute top-0 start-0 end-0 bottom-0",onClick:r[0]||(r[0]=(...d)=>n.clickHandler&&n.clickHandler(...d))})]),i(s.ReactAndCommentButtons,{id:o.post.id,"my-reaction":c.my_reaction,"reactions-count":c.reactions_count,"comments-count":c.comments_count,onReact:n.react},null,8,["id","my-reaction","reactions-count","comments-count","onReact"]),i(s.BestComments,{"post-id":o.post.id,"best-comments":o.post.best_comments,onContadorActualizado:n.contadorActualizado},null,8,["post-id","best-comments","onContadorActualizado"])])])}var H=_(Z,[["render",mt],["__scopeId","data-v-46321a5b"]]);const _t={components:{UserToFollowItem:M},data(){return{}},mounted(){}},ut=Object.assign(_t,{async setup(e,{expose:r}){r();let o,s;const c=u();let n=null;[o,s]=y(()=>P(`${c.backendUrl}/api/users`).then(d=>{n=d.data.data}).catch(d=>{})),await o,s();const a={mainStore:c,users:n,UserToFollowItem:M,useMainStore:u};return Object.defineProperty(a,"__isScriptSetup",{enumerable:!1,value:!0}),a}}),pt=e=>(w("data-v-fe9c3886"),e=e(),g(),e),ht=pt(()=>t("h4",null,[t("strong",null,"Usuarios que podr\xEDan interesarte")],-1)),ft={class:"card shadow-sm mb-3"},bt={class:"card-body"};function vt(e,r,o,s,c,n){return l(),m(h,null,[ht,t("div",ft,[t("div",bt,[(l(!0),m(h,null,S(s.users,a=>(l(),v(s.UserToFollowItem,{class:"user-item",key:a.id,user:a},null,8,["user"]))),128))])])],64)}var N=_(ut,[["render",vt],["__scopeId","data-v-fe9c3886"]]);const wt={components:{ImagePreloader:x},props:{pet:Object}},gt=e=>(w("data-v-be617f26"),e=e(),g(),e),xt={class:"row"},St={class:"col-auto"},kt={class:"col"},yt=gt(()=>t("br",null,null,-1)),$t={class:"text-muted"};function Ct(e,r,o,s,c,n){const a=b("ImagePreloader"),d=T;return l(),m("div",xt,[t("div",St,[i(d,{to:"/pets/"+o.pet.slug},{default:p(()=>[i(a,{image:o.pet.image,class:"pet-item-img shadow",aspect:"1"},null,8,["image"])]),_:1},8,["to"])]),t("div",kt,[i(d,{to:"/pets/"+o.pet.slug,class:"text-decoration-none"},{default:p(()=>[k(f(o.pet.name),1)]),_:1},8,["to"]),yt,t("small",$t,f(o.pet.nickname),1)])])}var B=_(wt,[["render",Ct],["__scopeId","data-v-be617f26"]]);const It={components:{PetToSeeItem:B}},Tt=Object.assign(It,{async setup(e,{expose:r}){r();let o,s;const c=u();let n=null;[o,s]=y(()=>P(`${c.backendUrl}/api/pets`).then(d=>{n=d.data.data}).catch(d=>{})),await o,s();const a={mainStore:c,pets:n,PetToSeeItem:B,useMainStore:u};return Object.defineProperty(a,"__isScriptSetup",{enumerable:!1,value:!0}),a}}),Pt=e=>(w("data-v-5f99d5f1"),e=e(),g(),e),zt=Pt(()=>t("h4",null,[t("strong",null,"Gatos que podr\xEDan gustarte")],-1)),At={class:"card shadow-sm mb-3"},Ot={class:"card-body"};function Mt(e,r,o,s,c,n){return l(),m(h,null,[zt,t("div",At,[t("div",Ot,[(l(!0),m(h,null,S(s.pets,a=>(l(),v(s.PetToSeeItem,{class:"pet-item",key:a.id,pet:a},null,8,["pet"]))),128))])])],64)}var U=_(Tt,[["render",Mt],["__scopeId","data-v-5f99d5f1"]]);const Lt={data(){var e;return{scrollPos:0,maxTop:(e=this.top)!=null?e:0,minTop:0,topScroll:0,sizeObserver:null}},props:["top"],mounted(){window.addEventListener("scroll",this.onScroll),this.sizeObserver=new ResizeObserver(this.calcMinTop),this.sizeObserver.observe(this.$refs.col)},unmounted(){window.removeEventListener("scroll",this.onScroll),this.sizeObserver.disconnect()},methods:{onScroll(){if(this.$refs.col.clientHeight+this.maxTop>window.innerHeight){const e=document.documentElement.scrollTop-this.scrollPos;e>0?(this.topScroll-=e,this.topScroll<this.minTop&&(this.topScroll=this.minTop)):(this.topScroll-=e,this.topScroll>this.maxTop&&(this.topScroll=this.maxTop))}else this.topScroll=this.maxTop;this.$refs.col.style.top=`${this.topScroll}px`,this.scrollPos=document.documentElement.scrollTop},calcMinTop(){this.minTop=window.innerHeight-this.$refs.col.clientHeight}}},jt={ref:"col",style:{"align-self":"flex-start",position:"sticky"}};function Ht(e,r,o,s,c,n){return l(),m("div",jt,[C(e.$slots,"default")],512)}var F=_(Lt,[["render",Ht]]);const Nt={components:{SimplePostComponent:H,ImagePreloader:x,UserToFollowList:N,PetToSeeList:U,StickyMiddleColumn:F},data(){return{}},mounted(){}},Bt=Object.assign(Nt,{async setup(e,{expose:r}){r();let o,s;const c=u();[o,s]=y(()=>c.loadPosts()),await o,s();const n={mainStore:c,SimplePostComponent:H,ImagePreloader:x,UserToFollowList:N,PetToSeeList:U,StickyMiddleColumn:F,useMainStore:u};return Object.defineProperty(n,"__isScriptSetup",{enumerable:!1,value:!0}),n}}),Ut={class:"row g-0"},Ft={class:"col-12 col-md-8"},Gt={style:{"max-width":"500px",margin:"auto"}},Rt=t("strong",null,"Ideas para publicar",-1),Vt={class:"card shadow-sm mb-3"},qt={class:"card-body"},Et=t("h5",{class:"card-title fw-bold"}," Gato dormido ",-1),Dt=t("p",{class:"card-text"}," Muestranos a tu gato durmiendo... (ver\xA0m\xE1s) ",-1),Wt=t("a",{href:"#",class:"btn btn-primary mt-2"},"Ver publicaciones",-1),Jt=t("hr",{class:"mx-3",style:{"border-top":"2px dashed","background-color":"transparent"}},null,-1),Kt=t("h4",null,[t("strong",null,"A\xFAn no sigues a estos gatos")],-1),Qt={class:"card shadow-sm mb-3"},Xt={class:"card-body"},Yt=t("h5",{class:"card-title fw-bold"}," Gato dormido ",-1),Zt=t("p",{class:"card-text"}," Muestranos a tu gato durmiendo... (ver\xA0m\xE1s) ",-1),te=t("a",{href:"#",class:"btn btn-primary mt-2"},"Ver publicaciones",-1),ee=t("hr",{class:"mx-3",style:{"border-top":"2px dashed","background-color":"transparent"}},null,-1),oe=t("div",{class:"card shadow-sm mb-3"},[t("div",{class:"card-body"},[t("h5",{class:"card-title"}," Card title "),t("p",{class:"card-text"}," Some quick example text to build on the card title and make up the bulk of the card's content. "),t("a",{href:"#",class:"btn btn-primary"},"Go somewhere")])],-1),se=t("div",{class:"card shadow-sm mb-3"},[t("div",{class:"card-body"},[t("h5",{class:"card-title"}," Card title "),t("p",{class:"card-text"}," Some quick example text to build on the card title and make up the bulk of the card's content. "),t("a",{href:"#",class:"btn btn-primary"},"Go somewhere")])],-1),ne=t("div",{class:"card shadow-sm mb-3"},[t("div",{class:"card-body"},[t("h5",{class:"card-title"}," Card title "),t("p",{class:"card-text"}," Some quick example text to build on the card title and make up the bulk of the card's content. "),t("a",{href:"#",class:"btn btn-primary"},"Go somewhere")])],-1);function ce(e,r,o,s,c,n){const a=b("router-view");return l(),m("div",Ut,[t("div",Ft,[t("div",Gt,[i(a),(l(!0),m(h,null,S(s.mainStore.posts,d=>(l(),v(s.SimplePostComponent,{post:d,key:d.id},null,8,["post"]))),128))])]),i(s.StickyMiddleColumn,{top:"80",class:"col-12 col-md-4",style:{"max-width":"100%"}},{default:p(()=>[i(s.UserToFollowList),i(s.PetToSeeList),t("h4",null,[Rt,k(" "+f(s.mainStore.state),1)]),t("div",Vt,[t("div",qt,[Et,Dt,i(s.ImagePreloader,{image:"/img/samples/s1.jpg",aspect:2,class:"rounded-5 w-100 shadow-sm"},null,8,["image"]),Wt])]),Jt,Kt,t("div",Qt,[t("div",Xt,[Yt,Zt,i(s.ImagePreloader,{image:"/img/samples/s1.jpg",aspect:2,class:"rounded-5 w-100 shadow-sm"},null,8,["image"]),te])]),ee,oe,se,ne]),_:1})])}var ae=_(Bt,[["render",ce]]);const ie={components:{HomeComponent:ae}},re=k(" bienvenido ");function le(e,r,o,s,c,n){const a=b("HomeComponent");return l(),m("div",null,[re,i(a)])}var pe=_(ie,[["render",le]]);export{pe as default};
