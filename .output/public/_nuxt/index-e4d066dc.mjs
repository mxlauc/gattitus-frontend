import{_ as m,r as p,o as l,c as _,d as i,m as b,F as u,i as $,g as x,x as H,s as v,v as w,b as t,u as h,k as S,t as f,p as C,w as y,f as T,y as j}from"./entry-d560964e.mjs";import{I as k}from"./ImagePreloader-6d77f583.mjs";import{C as N,N as U,P as B,a as F,R as G}from"./NewComment-4ce4030e.mjs";import{_ as I}from"./UserToFollowItem-206c6767.mjs";const q={components:{ComentarioComponent:N,NewComment:U},data(){return{comments:this.bestComments}},props:["postId","bestComments"],emits:["contadorActualizado"],methods:{onCommented(e){this.comments.push(e)},contadorActualizado(e){this.$emit("contadorActualizado",e)}}},E=e=>(v("data-v-2c7d774c"),e=e(),w(),e),V=E(()=>t("hr",{class:"my-0"},null,-1));function R(e,d,o,s,c,a){const n=p("comentario-component"),r=p("NewComment");return l(),_(u,null,[V,i(H,{name:"grupo-comentarios"},{default:b(()=>[(l(!0),_(u,null,$(c.comments,g=>(l(),x(n,{"hide-options":!0,"post-id":o.postId,key:g.id,comentario:g},null,8,["post-id","comentario"]))),128))]),_:1}),i(r,{"post-id":o.postId,onCommented:a.onCommented,onContadorActualizado:a.contadorActualizado},null,8,["post-id","onCommented","onContadorActualizado"])],64)}var D=m(q,[["render",R],["__scopeId","data-v-2c7d774c"]]);const W={components:{ImagePreloader:k,PostMenu:B,PetIconList:F,ReactAndCommentButtons:G,BestComments:D},setup(){return{mainStore:h()}},data(){return{reactions_count:this.post.reactions_count,comments_count:this.post.comments_count,my_reaction:this.post.my_reaction}},props:["post"],provide(){return{postId:this.post.id,clickTimeout:null}},methods:{reactLove(){this.my_reaction||this.react()},react(e){this.my_reaction=e.own_reaction,this.reactions_count=e.reactions_count},contadorActualizado(e){this.comments_count=e},clickHandler(){this.clickTimeout?(clearTimeout(this.clickTimeout),this.clickTimeout=null,this.doubleclick()):this.clickTimeout=setTimeout(()=>{this.click(),this.clickTimeout=null},250)},click(){this.$router.push(`/posts/${this.post.id}`)},doubleclick(){this.reactLove()}}},J=e=>(v("data-v-230541b2"),e=e(),w(),e),K={class:"card card-post shadow-sm f-rubick mb-4"},Q={class:"card-body pb-0"},X={class:"row g-0"},Y={class:"col-auto"},Z={class:"col px-2"},tt={class:"d-block text-black-50 fs-6",role:"button"},et={class:"col-auto"},ot=J(()=>t("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32.055 32.055",width:"20",height:"20",class:"text-black-50",fill:"currentColor","data-bs-toggle":"dropdown","aria-expanded":"false"},[t("path",{d:`M3.968,12.061C1.775,12.061,0,13.835,0,16.027c0,2.192,1.773,3.967,3.968,3.967c2.189,0,3.966-1.772,3.966-3.967
              C7.934,13.835,6.157,12.061,3.968,12.061z M16.233,12.061c-2.188,0-3.968,1.773-3.968,3.965c0,2.192,1.778,3.967,3.968,3.967
              s3.97-1.772,3.97-3.967C20.201,13.835,18.423,12.061,16.233,12.061z M28.09,12.061c-2.192,0-3.969,1.774-3.969,3.967
              c0,2.19,1.774,3.965,3.969,3.965c2.188,0,3.965-1.772,3.965-3.965S30.278,12.061,28.09,12.061z`})],-1)),st={class:"fs-6 mt-1 mb-1 text-muted"},nt={class:"my-2 position-relative"};function at(e,d,o,s,c,a){const n=p("image-preloader"),r=C,g=p("post-menu");return l(),_("div",K,[t("div",Q,[t("div",X,[t("div",Y,[i(r,{to:"/@"+o.post.user.username},{default:b(()=>[i(n,{image:o.post.user.image,class:"img-user-post shadow"},null,8,["image"])]),_:1},8,["to"])]),t("div",Z,[i(r,{to:"/@"+o.post.user.username,class:"name-user-post fw-bold text-decoration-none text-dark"},{default:b(()=>[S(f(o.post.user.name),1)]),_:1},8,["to"]),t("span",tt,[t("small",null,f(e.$tc("timeAgo",{date:o.post.created_at})),1)])]),t("div",et,[ot,i(g,{"post-id":o.post.id},null,8,["post-id"])])]),t("p",st,f(o.post.simple_post.description),1),t("div",nt,[i(n,{aspect:o.post.simple_post.image.aspect_ratio,option:"url_lg",image:o.post.simple_post.image,class:"rounded-5 w-100 shadow-sm"},null,8,["aspect","image"]),t("div",{class:"position-absolute top-0 start-0 end-0 bottom-0",onClick:d[0]||(d[0]=(...M)=>a.clickHandler&&a.clickHandler(...M))})])])])}var P=m(W,[["render",at],["__scopeId","data-v-230541b2"]]);const ct={components:{UserToFollowItem:I},data(){return{}},mounted(){}},it=Object.assign(ct,{async setup(e,{expose:d}){d();let o,s;const c=h();let a=null;[o,s]=y(()=>T(`${c.backendUrl}/api/users`).then(r=>{a=r.data.data}).catch(r=>{})),await o,s();const n={mainStore:c,users:a,UserToFollowItem:I,useMainStore:h};return Object.defineProperty(n,"__isScriptSetup",{enumerable:!1,value:!0}),n}}),rt=e=>(v("data-v-fe9c3886"),e=e(),w(),e),lt=rt(()=>t("h4",null,[t("strong",null,"Usuarios que podr\xEDan interesarte")],-1)),dt={class:"card shadow-sm mb-3"},_t={class:"card-body"};function mt(e,d,o,s,c,a){return l(),_(u,null,[lt,t("div",dt,[t("div",_t,[(l(!0),_(u,null,$(s.users,n=>(l(),x(s.UserToFollowItem,{class:"user-item",key:n.id,user:n},null,8,["user"]))),128))])])],64)}var z=m(it,[["render",mt],["__scopeId","data-v-fe9c3886"]]);const pt={components:{ImagePreloader:k},props:{pet:Object}},ut=e=>(v("data-v-be617f26"),e=e(),w(),e),ht={class:"row"},ft={class:"col-auto"},bt={class:"col"},vt=ut(()=>t("br",null,null,-1)),wt={class:"text-muted"};function gt(e,d,o,s,c,a){const n=p("ImagePreloader"),r=C;return l(),_("div",ht,[t("div",ft,[i(r,{to:"/pets/"+o.pet.slug},{default:b(()=>[i(n,{image:o.pet.image,class:"pet-item-img shadow",aspect:"1"},null,8,["image"])]),_:1},8,["to"])]),t("div",bt,[i(r,{to:"/pets/"+o.pet.slug,class:"text-decoration-none"},{default:b(()=>[S(f(o.pet.name),1)]),_:1},8,["to"]),vt,t("small",wt,f(o.pet.nickname),1)])])}var L=m(pt,[["render",gt],["__scopeId","data-v-be617f26"]]);const $t={components:{PetToSeeItem:L}},xt=Object.assign($t,{async setup(e,{expose:d}){d();let o,s;const c=h();let a=null;[o,s]=y(()=>T(`${c.backendUrl}/api/pets`).then(r=>{a=r.data.data}).catch(r=>{})),await o,s();const n={mainStore:c,pets:a,PetToSeeItem:L,useMainStore:h};return Object.defineProperty(n,"__isScriptSetup",{enumerable:!1,value:!0}),n}}),St=e=>(v("data-v-5f99d5f1"),e=e(),w(),e),kt=St(()=>t("h4",null,[t("strong",null,"Gatos que podr\xEDan gustarte")],-1)),yt={class:"card shadow-sm mb-3"},Ct={class:"card-body"};function Tt(e,d,o,s,c,a){return l(),_(u,null,[kt,t("div",yt,[t("div",Ct,[(l(!0),_(u,null,$(s.pets,n=>(l(),x(s.PetToSeeItem,{class:"pet-item",key:n.id,pet:n},null,8,["pet"]))),128))])])],64)}var O=m(xt,[["render",Tt],["__scopeId","data-v-5f99d5f1"]]);const It={data(){var e;return{scrollPos:0,maxTop:(e=this.top)!=null?e:0,minTop:0,topScroll:0,sizeObserver:null}},props:["top"],mounted(){window.addEventListener("scroll",this.onScroll),this.sizeObserver=new ResizeObserver(this.calcMinTop),this.sizeObserver.observe(this.$refs.col)},unmounted(){window.removeEventListener("scroll",this.onScroll),this.sizeObserver.disconnect()},methods:{onScroll(){if(this.$refs.col.clientHeight+this.maxTop>window.innerHeight){const e=document.documentElement.scrollTop-this.scrollPos;e>0?(this.topScroll-=e,this.topScroll<this.minTop&&(this.topScroll=this.minTop)):(this.topScroll-=e,this.topScroll>this.maxTop&&(this.topScroll=this.maxTop))}else this.topScroll=this.maxTop;this.$refs.col.style.top=`${this.topScroll}px`,this.scrollPos=document.documentElement.scrollTop},calcMinTop(){this.minTop=window.innerHeight-this.$refs.col.clientHeight}}},Pt={ref:"col",style:{"align-self":"flex-start",position:"sticky"}};function zt(e,d,o,s,c,a){return l(),_("div",Pt,[j(e.$slots,"default")],512)}var A=m(It,[["render",zt]]);const Lt={components:{SimplePostComponent:P,ImagePreloader:k,UserToFollowList:z,PetToSeeList:O,StickyMiddleColumn:A},data(){return{}},mounted(){}},Ot=Object.assign(Lt,{async setup(e,{expose:d}){d();let o,s;const c=h();[o,s]=y(()=>c.loadPosts()),await o,s();const a={mainStore:c,SimplePostComponent:P,ImagePreloader:k,UserToFollowList:z,PetToSeeList:O,StickyMiddleColumn:A,useMainStore:h};return Object.defineProperty(a,"__isScriptSetup",{enumerable:!1,value:!0}),a}}),At={class:"row g-0"},Mt={class:"col-12 col-md-8"},Ht={style:{"max-width":"500px",margin:"auto"}},jt=t("strong",null,"Ideas para publicar",-1),Nt={class:"card shadow-sm mb-3"},Ut={class:"card-body"},Bt=t("h5",{class:"card-title fw-bold"}," Gato dormido ",-1),Ft=t("p",{class:"card-text"}," Muestranos a tu gato durmiendo... (ver\xA0m\xE1s) ",-1),Gt=t("a",{href:"#",class:"btn btn-primary mt-2"},"Ver publicaciones",-1),qt=t("hr",{class:"mx-3",style:{"border-top":"2px dashed","background-color":"transparent"}},null,-1),Et=t("h4",null,[t("strong",null,"A\xFAn no sigues a estos gatos")],-1),Vt={class:"card shadow-sm mb-3"},Rt={class:"card-body"},Dt=t("h5",{class:"card-title fw-bold"}," Gato dormido ",-1),Wt=t("p",{class:"card-text"}," Muestranos a tu gato durmiendo... (ver\xA0m\xE1s) ",-1),Jt=t("a",{href:"#",class:"btn btn-primary mt-2"},"Ver publicaciones",-1),Kt=t("hr",{class:"mx-3",style:{"border-top":"2px dashed","background-color":"transparent"}},null,-1),Qt=t("div",{class:"card shadow-sm mb-3"},[t("div",{class:"card-body"},[t("h5",{class:"card-title"}," Card title "),t("p",{class:"card-text"}," Some quick example text to build on the card title and make up the bulk of the card's content. "),t("a",{href:"#",class:"btn btn-primary"},"Go somewhere")])],-1),Xt=t("div",{class:"card shadow-sm mb-3"},[t("div",{class:"card-body"},[t("h5",{class:"card-title"}," Card title "),t("p",{class:"card-text"}," Some quick example text to build on the card title and make up the bulk of the card's content. "),t("a",{href:"#",class:"btn btn-primary"},"Go somewhere")])],-1),Yt=t("div",{class:"card shadow-sm mb-3"},[t("div",{class:"card-body"},[t("h5",{class:"card-title"}," Card title "),t("p",{class:"card-text"}," Some quick example text to build on the card title and make up the bulk of the card's content. "),t("a",{href:"#",class:"btn btn-primary"},"Go somewhere")])],-1);function Zt(e,d,o,s,c,a){const n=p("router-view");return l(),_("div",At,[t("div",Mt,[t("div",Ht,[i(n),(l(!0),_(u,null,$(s.mainStore.posts,r=>(l(),x(s.SimplePostComponent,{post:r,key:r.id},null,8,["post"]))),128))])]),i(s.StickyMiddleColumn,{top:"80",class:"col-12 col-md-4",style:{"max-width":"100%"}},{default:b(()=>[i(s.UserToFollowList),i(s.PetToSeeList),t("h4",null,[jt,S(" "+f(s.mainStore.state),1)]),t("div",Nt,[t("div",Ut,[Bt,Ft,i(s.ImagePreloader,{image:"/img/samples/s1.jpg",aspect:2,class:"rounded-5 w-100 shadow-sm"},null,8,["image"]),Gt])]),qt,Et,t("div",Vt,[t("div",Rt,[Dt,Wt,i(s.ImagePreloader,{image:"/img/samples/s1.jpg",aspect:2,class:"rounded-5 w-100 shadow-sm"},null,8,["image"]),Jt])]),Kt,Qt,Xt,Yt]),_:1})])}var te=m(Ot,[["render",Zt]]);const ee={components:{HomeComponent:te}},oe=S(" bienvenido ");function se(e,d,o,s,c,a){const n=p("HomeComponent");return l(),_("div",null,[oe,i(n)])}var re=m(ee,[["render",se]]);export{re as default};
