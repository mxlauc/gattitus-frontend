var Qt=Object.defineProperty,Zt=Object.defineProperties;var eo=Object.getOwnPropertyDescriptors;var _t=Object.getOwnPropertySymbols;var to=Object.prototype.hasOwnProperty,oo=Object.prototype.propertyIsEnumerable;var wt=(e,t,o)=>t in e?Qt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[t]=o,Ke=(e,t)=>{for(var o in t||(t={}))to.call(t,o)&&wt(e,o,t[o]);if(_t)for(var o of _t(t))oo.call(t,o)&&wt(e,o,t[o]);return e},Xe=(e,t)=>Zt(e,eo(t));import{_ as N,o as f,g as T,b as l,A as fe,c as C,h as R,T as Dt,u as q,p as S,l as P,a as F,s as no,i as et,t as M,F as Se,v as Te,x as je,d as z,j as tt,q as He,B as ro,D as ao,E as we,G as ot,H as Et,I as be,J as $e,K as yt,L as io,M as so,N as lo,O as de,P as co,n as Lt,Q as nt,R as po,S as uo,U as fo,r as ze,V as Mt,y as mo,w as vo,m as ho}from"./entry-a19abfcb.mjs";import{I as ge}from"./ImagePreloader-a3adae35.mjs";const go={mounted(){document.body.style.overflow="hidden"},unmounted(){document.body.style.overflow=null},props:["hideButtons"],emits:["cancel","ok"]},bo={class:"modal-container",ref:"modalContainer"},_o={class:"card shadow p-3"},wo={key:0,class:"row"},yo={class:"col text-center"},xo={class:"col text-center"};function $o(e,t,o,r,n,a){return f(),T(Dt,{to:"body"},[l("div",bo,[l("div",{class:"modal-background",onClick:t[0]||(t[0]=s=>e.$emit("cancel"))}),l("div",_o,[l("h3",null,[fe(e.$slots,"title",{},void 0,!0)]),fe(e.$slots,"default",{},void 0,!0),o.hideButtons?R("",!0):(f(),C("div",wo,[l("div",yo,[l("button",{onClick:t[1]||(t[1]=s=>e.$emit("cancel")),class:"btn btn-secondary"},[fe(e.$slots,"cancel",{},void 0,!0)])]),l("div",xo,[l("button",{onClick:t[2]||(t[2]=s=>e.$emit("ok")),class:"btn btn-primary"},[fe(e.$slots,"ok",{},void 0,!0)])])]))])],512)])}var se=N(go,[["render",$o],["__scopeId","data-v-41ef62b3"]]);const Co={components:{CustomModal:se},setup(){return{mainStore:q()}},data(){return{}},emits:["close"],inject:["postId"],methods:{eliminarPost(){this.mainStore.deletePost(this.postId).then(()=>{this.close()})},close(){this.$emit("close")}}},ko=P(" \xBFEliminar publicaci\xF3n? "),Oo=l("p",null,"\xBFEsta seguro que desea eliminar esta publicaci\xF3n?",-1),So=P(" Cancelar "),Po=P(" Aceptar ");function Do(e,t,o,r,n,a){const s=se;return f(),T(s,{onCancel:a.close,onOk:a.eliminarPost},{title:S(()=>[ko]),cancel:S(()=>[So]),ok:S(()=>[Po]),default:S(()=>[Oo]),_:1},8,["onCancel","onOk"])}var At=N(Co,[["render",Do]]);const Eo={setup(){return{mainStore:q()}},data(){return{reportsPaginate:null}},mounted(){F.get(`${this.mainStore.backendUrl}/api/admin/reports/types`).then(e=>{this.reportsPaginate=e.data})},emits:["close"],inject:["postId"],methods:{sendReport(){var t;const e=new FormData(this.$refs.form);e.append("post_id",this.postId),e.append("user_id",(t=this.mainStore.userLogged)==null?void 0:t.id),console.log(e),F.post(`${this.mainStore.backendUrl}/api/admin/reports`,e).then(o=>{this.close()})},close(){this.$emit("close")}}},Ne=e=>(Te("data-v-5ea56779"),e=e(),je(),e),Lo={class:"post-modal"},Mo={class:"card shadow p-4"},Ao=Ne(()=>l("h3",null,"\xBFReportar publicaci\xF3n?",-1)),Ro=["value"],Io=Ne(()=>l("textarea",{class:"form-control my-3",name:"details",id:"",cols:"30",rows:"4",placeholder:"Detalles"},null,-1)),Bo=Ne(()=>l("p",{class:"text-center"},[l("small",null,[P(" Reportar esta publicaci\xF3n para que "),l("br"),P(" el administrador de Gattitus la revise ")])],-1)),zo={class:"row"},To={class:"col"},jo=Ne(()=>l("div",{class:"col"},[l("button",{type:"submit",class:"btn btn-primary"}," Enviar reporte ")],-1));function Ho(e,t,o,r,n,a){var s;return f(),T(Dt,{to:"body"},[l("div",Lo,[l("div",Mo,[Ao,l("form",{onSubmit:t[1]||(t[1]=no((...i)=>a.sendReport&&a.sendReport(...i),["prevent"])),ref:"form"},[(f(!0),C(Se,null,et((s=n.reportsPaginate)==null?void 0:s.data,i=>(f(),C("label",{class:"d-block",key:i.id},[l("input",{type:"radio",name:"report_type_id",value:i.id},null,8,Ro),P(" "+M(i.title),1)]))),128)),Io,Bo,l("div",zo,[l("div",To,[l("button",{type:"button",class:"btn btn-secondary",onClick:t[0]||(t[0]=(...i)=>a.close&&a.close(...i))}," Cancelar ")]),jo])],544)])])])}var Rt=N(Eo,[["render",Ho],["__scopeId","data-v-5ea56779"]]);const No={components:{DeletePostDialog:At,ReportPostDialog:Rt},data(){return{deletePostDialog:!1,reportPostDialog:!1}},props:["postId"],provide:["postId"]},Vo=Object.assign(No,{setup(e,{expose:t}){t();const o={DeletePostDialog:At,ReportPostDialog:Rt,t:tt};return Object.defineProperty(o,"__isScriptSetup",{enumerable:!1,value:!0}),o}}),Ve=e=>(Te("data-v-7772cfdf"),e=e(),je(),e),Wo={class:"dropdown-menu dropdown-menu-end shadow p-2"},Go=Ve(()=>l("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-arrow-up-right-square",viewBox:"0 0 16 16"},[l("path",{"fill-rule":"evenodd",d:"M15 2a1 1 0 0 0-1-1H2a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V2zM0 2a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2zm5.854 8.803a.5.5 0 1 1-.708-.707L9.243 6H6.475a.5.5 0 1 1 0-1h3.975a.5.5 0 0 1 .5.5v3.975a.5.5 0 1 1-1 0V6.707l-4.096 4.096z"})],-1)),Uo=Ve(()=>l("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-pencil-square",viewBox:"0 0 16 16"},[l("path",{d:"M15.502 1.94a.5.5 0 0 1 0 .706L14.459 3.69l-2-2L13.502.646a.5.5 0 0 1 .707 0l1.293 1.293zm-1.75 2.456-2-2L4.939 9.21a.5.5 0 0 0-.121.196l-.805 2.414a.25.25 0 0 0 .316.316l2.414-.805a.5.5 0 0 0 .196-.12l6.813-6.814z"}),l("path",{"fill-rule":"evenodd",d:"M1 13.5A1.5 1.5 0 0 0 2.5 15h11a1.5 1.5 0 0 0 1.5-1.5v-6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-.5.5h-11a.5.5 0 0 1-.5-.5v-11a.5.5 0 0 1 .5-.5H9a.5.5 0 0 0 0-1H2.5A1.5 1.5 0 0 0 1 2.5v11z"})],-1)),qo=P(" Editar publicacion "),Fo=Ve(()=>l("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-trash-fill",viewBox:"0 0 16 16"},[l("path",{d:"M2.5 1a1 1 0 0 0-1 1v1a1 1 0 0 0 1 1H3v9a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V4h.5a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1H10a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1H2.5zm3 4a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-1 0v-7a.5.5 0 0 1 .5-.5zM8 5a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-1 0v-7A.5.5 0 0 1 8 5zm3 .5v7a.5.5 0 0 1-1 0v-7a.5.5 0 0 1 1 0z"})],-1)),Ko=P(" Eliminar publicaci\xF3n "),Xo=[Fo,Ko],Yo=Ve(()=>l("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-trash-fill",viewBox:"0 0 16 16"},[l("path",{d:"M2.5 1a1 1 0 0 0-1 1v1a1 1 0 0 0 1 1H3v9a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V4h.5a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1H10a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1H2.5zm3 4a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-1 0v-7a.5.5 0 0 1 .5-.5zM8 5a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-1 0v-7A.5.5 0 0 1 8 5zm3 .5v7a.5.5 0 0 1-1 0v-7a.5.5 0 0 1 1 0z"})],-1)),Jo=P(" Reportar publicaci\xF3n "),Qo=[Yo,Jo];function Zo(e,t,o,r,n,a){const s=He;return f(),C(Se,null,[l("ul",Wo,[l("li",null,[z(s,{class:"list-group-item border-0",to:"/posts/"+o.postId},{default:S(()=>[Go,P(" "+M(r.t("seePost")),1)]),_:1},8,["to"])]),l("li",null,[z(s,{class:"list-group-item border-0",to:"/posts/"+o.postId+"/edit"},{default:S(()=>[Uo,qo]),_:1},8,["to"])]),l("li",{class:"list-group-item border-0",role:"button",onClick:t[0]||(t[0]=i=>n.deletePostDialog=!0)},Xo),l("li",{class:"list-group-item border-0",role:"button",onClick:t[1]||(t[1]=i=>n.reportPostDialog=!0)},Qo)]),n.deletePostDialog?(f(),T(r.DeletePostDialog,{key:0,onClose:t[2]||(t[2]=i=>n.deletePostDialog=!1)})):R("",!0),n.reportPostDialog?(f(),T(r.ReportPostDialog,{key:1,onClose:t[3]||(t[3]=i=>n.reportPostDialog=!1)})):R("",!0)],64)}var ri=N(Vo,[["render",Zo],["__scopeId","data-v-7772cfdf"]]);function Qe(e,t,o){var r,n,a,s,i;t==null&&(t=100);function c(){var d=Date.now()-s;d<t&&d>=0?r=setTimeout(c,t-d):(r=null,o||(i=e.apply(a,n),a=n=null))}var p=function(){a=this,n=arguments,s=Date.now();var d=o&&!r;return r||(r=setTimeout(c,t)),d&&(i=e.apply(a,n),a=n=null),i};return p.clear=function(){r&&(clearTimeout(r),r=null)},p.flush=function(){r&&(i=e.apply(a,n),a=n=null,clearTimeout(r),r=null)},p}Qe.debounce=Qe;var Ye=Qe;function en(e,t,o){fo(e)?$e(e,(r,n)=>{n==null||n.removeEventListener(t,o),r==null||r.addEventListener(t,o)}):ot(()=>{e.addEventListener(t,o)}),nt(()=>{var r;(r=de(e))===null||r===void 0||r.removeEventListener(t,o)})}function tn(e,t){const o="pointerdown";return typeof window=="undefined"||!window?void 0:en(window,o,n=>{const a=de(e);!a||a===n.target||n.composedPath().includes(a)||t(n)})}function on(e,t,o){let r=null;const n=we(!1);ot(()=>{(e.content!==void 0||o.value)&&(n.value=!0),r=new MutationObserver(a),r.observe(t.value,{childList:!0,subtree:!0})}),nt(()=>r.disconnect()),$e(o,s=>{s?n.value=!0:n.value=!1});const a=()=>{e.content?n.value=!0:n.value=!1};return{hasContent:n}}function me(e,t){var o=e.getBoundingClientRect(),r=1,n=1;return{width:o.width/r,height:o.height/n,top:o.top/n,right:o.right/r,bottom:o.bottom/n,left:o.left/r,x:o.left/r,y:o.top/n}}function Y(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function rt(e){var t=Y(e),o=t.pageXOffset,r=t.pageYOffset;return{scrollLeft:o,scrollTop:r}}function Ce(e){var t=Y(e).Element;return e instanceof t||e instanceof Element}function W(e){var t=Y(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function It(e){if(typeof ShadowRoot=="undefined")return!1;var t=Y(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}function nn(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function rn(e){return e===Y(e)||!W(e)?rt(e):nn(e)}function Z(e){return e?(e.nodeName||"").toLowerCase():null}function le(e){return((Ce(e)?e.ownerDocument:e.document)||window.document).documentElement}function at(e){return me(le(e)).left+rt(e).scrollLeft}function ae(e){return Y(e).getComputedStyle(e)}function it(e){var t=ae(e),o=t.overflow,r=t.overflowX,n=t.overflowY;return/auto|scroll|overlay|hidden/.test(o+n+r)}function an(e){var t=e.getBoundingClientRect(),o=t.width/e.offsetWidth||1,r=t.height/e.offsetHeight||1;return o!==1||r!==1}function sn(e,t,o){o===void 0&&(o=!1);var r=W(t);W(t)&&an(t);var n=le(t),a=me(e),s={scrollLeft:0,scrollTop:0},i={x:0,y:0};return(r||!r&&!o)&&((Z(t)!=="body"||it(n))&&(s=rn(t)),W(t)?(i=me(t),i.x+=t.clientLeft,i.y+=t.clientTop):n&&(i.x=at(n))),{x:a.left+s.scrollLeft-i.x,y:a.top+s.scrollTop-i.y,width:a.width,height:a.height}}function st(e){var t=me(e),o=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-o)<=1&&(o=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:o,height:r}}function We(e){return Z(e)==="html"?e:e.assignedSlot||e.parentNode||(It(e)?e.host:null)||le(e)}function Bt(e){return["html","body","#document"].indexOf(Z(e))>=0?e.ownerDocument.body:W(e)&&it(e)?e:Bt(We(e))}function xe(e,t){var o;t===void 0&&(t=[]);var r=Bt(e),n=r===((o=e.ownerDocument)==null?void 0:o.body),a=Y(r),s=n?[a].concat(a.visualViewport||[],it(r)?r:[]):r,i=t.concat(s);return n?i:i.concat(xe(We(s)))}function ln(e){return["table","td","th"].indexOf(Z(e))>=0}function xt(e){return!W(e)||ae(e).position==="fixed"?null:e.offsetParent}function cn(e){var t=navigator.userAgent.toLowerCase().indexOf("firefox")!==-1,o=navigator.userAgent.indexOf("Trident")!==-1;if(o&&W(e)){var r=ae(e);if(r.position==="fixed")return null}for(var n=We(e);W(n)&&["html","body"].indexOf(Z(n))<0;){var a=ae(n);if(a.transform!=="none"||a.perspective!=="none"||a.contain==="paint"||["transform","perspective"].indexOf(a.willChange)!==-1||t&&a.willChange==="filter"||t&&a.filter&&a.filter!=="none")return n;n=n.parentNode}return null}function Pe(e){for(var t=Y(e),o=xt(e);o&&ln(o)&&ae(o).position==="static";)o=xt(o);return o&&(Z(o)==="html"||Z(o)==="body"&&ae(o).position==="static")?t:o||cn(e)||t}var G="top",K="bottom",X="right",U="left",lt="auto",De=[G,K,X,U],ve="start",ke="end",dn="clippingParents",zt="viewport",_e="popper",pn="reference",$t=De.reduce(function(e,t){return e.concat([t+"-"+ve,t+"-"+ke])},[]),Tt=[].concat(De,[lt]).reduce(function(e,t){return e.concat([t,t+"-"+ve,t+"-"+ke])},[]),un="beforeRead",fn="read",mn="afterRead",vn="beforeMain",hn="main",gn="afterMain",bn="beforeWrite",_n="write",wn="afterWrite",yn=[un,fn,mn,vn,hn,gn,bn,_n,wn];function xn(e){var t=new Map,o=new Set,r=[];e.forEach(function(a){t.set(a.name,a)});function n(a){o.add(a.name);var s=[].concat(a.requires||[],a.requiresIfExists||[]);s.forEach(function(i){if(!o.has(i)){var c=t.get(i);c&&n(c)}}),r.push(a)}return e.forEach(function(a){o.has(a.name)||n(a)}),r}function $n(e){var t=xn(e);return yn.reduce(function(o,r){return o.concat(t.filter(function(n){return n.phase===r}))},[])}function Cn(e){var t;return function(){return t||(t=new Promise(function(o){Promise.resolve().then(function(){t=void 0,o(e())})})),t}}function Q(e){return e.split("-")[0]}function kn(e){var t=e.reduce(function(o,r){var n=o[r.name];return o[r.name]=n?Object.assign({},n,r,{options:Object.assign({},n.options,r.options),data:Object.assign({},n.data,r.data)}):r,o},{});return Object.keys(t).map(function(o){return t[o]})}function On(e){var t=Y(e),o=le(e),r=t.visualViewport,n=o.clientWidth,a=o.clientHeight,s=0,i=0;return r&&(n=r.width,a=r.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(s=r.offsetLeft,i=r.offsetTop)),{width:n,height:a,x:s+at(e),y:i}}var ie=Math.max,Oe=Math.min,Ae=Math.round;function Sn(e){var t,o=le(e),r=rt(e),n=(t=e.ownerDocument)==null?void 0:t.body,a=ie(o.scrollWidth,o.clientWidth,n?n.scrollWidth:0,n?n.clientWidth:0),s=ie(o.scrollHeight,o.clientHeight,n?n.scrollHeight:0,n?n.clientHeight:0),i=-r.scrollLeft+at(e),c=-r.scrollTop;return ae(n||o).direction==="rtl"&&(i+=ie(o.clientWidth,n?n.clientWidth:0)-a),{width:a,height:s,x:i,y:c}}function jt(e,t){var o=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(o&&It(o)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function Ze(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function Pn(e){var t=me(e);return t.top=t.top+e.clientTop,t.left=t.left+e.clientLeft,t.bottom=t.top+e.clientHeight,t.right=t.left+e.clientWidth,t.width=e.clientWidth,t.height=e.clientHeight,t.x=t.left,t.y=t.top,t}function Ct(e,t){return t===zt?Ze(On(e)):W(t)?Pn(t):Ze(Sn(le(e)))}function Dn(e){var t=xe(We(e)),o=["absolute","fixed"].indexOf(ae(e).position)>=0,r=o&&W(e)?Pe(e):e;return Ce(r)?t.filter(function(n){return Ce(n)&&jt(n,r)&&Z(n)!=="body"}):[]}function En(e,t,o){var r=t==="clippingParents"?Dn(e):[].concat(t),n=[].concat(r,[o]),a=n[0],s=n.reduce(function(i,c){var p=Ct(e,c);return i.top=ie(p.top,i.top),i.right=Oe(p.right,i.right),i.bottom=Oe(p.bottom,i.bottom),i.left=ie(p.left,i.left),i},Ct(e,a));return s.width=s.right-s.left,s.height=s.bottom-s.top,s.x=s.left,s.y=s.top,s}function he(e){return e.split("-")[1]}function ct(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function Ht(e){var t=e.reference,o=e.element,r=e.placement,n=r?Q(r):null,a=r?he(r):null,s=t.x+t.width/2-o.width/2,i=t.y+t.height/2-o.height/2,c;switch(n){case G:c={x:s,y:t.y-o.height};break;case K:c={x:s,y:t.y+t.height};break;case X:c={x:t.x+t.width,y:i};break;case U:c={x:t.x-o.width,y:i};break;default:c={x:t.x,y:t.y}}var p=n?ct(n):null;if(p!=null){var d=p==="y"?"height":"width";switch(a){case ve:c[p]=c[p]-(t[d]/2-o[d]/2);break;case ke:c[p]=c[p]+(t[d]/2-o[d]/2);break}}return c}function Nt(){return{top:0,right:0,bottom:0,left:0}}function Vt(e){return Object.assign({},Nt(),e)}function Wt(e,t){return t.reduce(function(o,r){return o[r]=e,o},{})}function dt(e,t){t===void 0&&(t={});var o=t,r=o.placement,n=r===void 0?e.placement:r,a=o.boundary,s=a===void 0?dn:a,i=o.rootBoundary,c=i===void 0?zt:i,p=o.elementContext,d=p===void 0?_e:p,_=o.altBoundary,k=_===void 0?!1:_,v=o.padding,g=v===void 0?0:v,m=Vt(typeof g!="number"?g:Wt(g,De)),h=d===_e?pn:_e,w=e.rects.popper,y=e.elements[k?h:d],x=En(Ce(y)?y:y.contextElement||le(e.elements.popper),s,c),u=me(e.elements.reference),O=Ht({reference:u,element:w,strategy:"absolute",placement:n}),b=Ze(Object.assign({},w,O)),$=d===_e?b:u,E={top:x.top-$.top+m.top,bottom:$.bottom-x.bottom+m.bottom,left:x.left-$.left+m.left,right:$.right-x.right+m.right},D=e.modifiersData.offset;if(d===_e&&D){var j=D[n];Object.keys(E).forEach(function(H){var ee=[X,K].indexOf(H)>=0?1:-1,L=[G,K].indexOf(H)>=0?"y":"x";E[H]+=j[L]*ee})}return E}var kt={placement:"bottom",modifiers:[],strategy:"absolute"};function Ot(){for(var e=arguments.length,t=new Array(e),o=0;o<e;o++)t[o]=arguments[o];return!t.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function Ln(e){e===void 0&&(e={});var t=e,o=t.defaultModifiers,r=o===void 0?[]:o,n=t.defaultOptions,a=n===void 0?kt:n;return function(i,c,p){p===void 0&&(p=a);var d={placement:"bottom",orderedModifiers:[],options:Object.assign({},kt,a),modifiersData:{},elements:{reference:i,popper:c},attributes:{},styles:{}},_=[],k=!1,v={state:d,setOptions:function(w){var y=typeof w=="function"?w(d.options):w;m(),d.options=Object.assign({},a,d.options,y),d.scrollParents={reference:Ce(i)?xe(i):i.contextElement?xe(i.contextElement):[],popper:xe(c)};var x=$n(kn([].concat(r,d.options.modifiers)));return d.orderedModifiers=x.filter(function(u){return u.enabled}),g(),v.update()},forceUpdate:function(){if(!k){var w=d.elements,y=w.reference,x=w.popper;if(!!Ot(y,x)){d.rects={reference:sn(y,Pe(x),d.options.strategy==="fixed"),popper:st(x)},d.reset=!1,d.placement=d.options.placement,d.orderedModifiers.forEach(function(j){return d.modifiersData[j.name]=Object.assign({},j.data)});for(var u=0;u<d.orderedModifiers.length;u++){if(d.reset===!0){d.reset=!1,u=-1;continue}var O=d.orderedModifiers[u],b=O.fn,$=O.options,E=$===void 0?{}:$,D=O.name;typeof b=="function"&&(d=b({state:d,options:E,name:D,instance:v})||d)}}}},update:Cn(function(){return new Promise(function(h){v.forceUpdate(),h(d)})}),destroy:function(){m(),k=!0}};if(!Ot(i,c))return v;v.setOptions(p).then(function(h){!k&&p.onFirstUpdate&&p.onFirstUpdate(h)});function g(){d.orderedModifiers.forEach(function(h){var w=h.name,y=h.options,x=y===void 0?{}:y,u=h.effect;if(typeof u=="function"){var O=u({state:d,name:w,instance:v,options:x}),b=function(){};_.push(O||b)}})}function m(){_.forEach(function(h){return h()}),_=[]}return v}}var Re={passive:!0};function Mn(e){var t=e.state,o=e.instance,r=e.options,n=r.scroll,a=n===void 0?!0:n,s=r.resize,i=s===void 0?!0:s,c=Y(t.elements.popper),p=[].concat(t.scrollParents.reference,t.scrollParents.popper);return a&&p.forEach(function(d){d.addEventListener("scroll",o.update,Re)}),i&&c.addEventListener("resize",o.update,Re),function(){a&&p.forEach(function(d){d.removeEventListener("scroll",o.update,Re)}),i&&c.removeEventListener("resize",o.update,Re)}}var An={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:Mn,data:{}};function Rn(e){var t=e.state,o=e.name;t.modifiersData[o]=Ht({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})}var In={name:"popperOffsets",enabled:!0,phase:"read",fn:Rn,data:{}},Bn={top:"auto",right:"auto",bottom:"auto",left:"auto"};function zn(e){var t=e.x,o=e.y,r=window,n=r.devicePixelRatio||1;return{x:Ae(Ae(t*n)/n)||0,y:Ae(Ae(o*n)/n)||0}}function St(e){var t,o=e.popper,r=e.popperRect,n=e.placement,a=e.variation,s=e.offsets,i=e.position,c=e.gpuAcceleration,p=e.adaptive,d=e.roundOffsets,_=d===!0?zn(s):typeof d=="function"?d(s):s,k=_.x,v=k===void 0?0:k,g=_.y,m=g===void 0?0:g,h=s.hasOwnProperty("x"),w=s.hasOwnProperty("y"),y=U,x=G,u=window;if(p){var O=Pe(o),b="clientHeight",$="clientWidth";O===Y(o)&&(O=le(o),ae(O).position!=="static"&&i==="absolute"&&(b="scrollHeight",$="scrollWidth")),O=O,(n===G||(n===U||n===X)&&a===ke)&&(x=K,m-=O[b]-r.height,m*=c?1:-1),(n===U||(n===G||n===K)&&a===ke)&&(y=X,v-=O[$]-r.width,v*=c?1:-1)}var E=Object.assign({position:i},p&&Bn);if(c){var D;return Object.assign({},E,(D={},D[x]=w?"0":"",D[y]=h?"0":"",D.transform=(u.devicePixelRatio||1)<=1?"translate("+v+"px, "+m+"px)":"translate3d("+v+"px, "+m+"px, 0)",D))}return Object.assign({},E,(t={},t[x]=w?m+"px":"",t[y]=h?v+"px":"",t.transform="",t))}function Tn(e){var t=e.state,o=e.options,r=o.gpuAcceleration,n=r===void 0?!0:r,a=o.adaptive,s=a===void 0?!0:a,i=o.roundOffsets,c=i===void 0?!0:i,p={placement:Q(t.placement),variation:he(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:n};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,St(Object.assign({},p,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:s,roundOffsets:c})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,St(Object.assign({},p,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:c})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}var jn={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:Tn,data:{}};function Hn(e){var t=e.state;Object.keys(t.elements).forEach(function(o){var r=t.styles[o]||{},n=t.attributes[o]||{},a=t.elements[o];!W(a)||!Z(a)||(Object.assign(a.style,r),Object.keys(n).forEach(function(s){var i=n[s];i===!1?a.removeAttribute(s):a.setAttribute(s,i===!0?"":i)}))})}function Nn(e){var t=e.state,o={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,o.popper),t.styles=o,t.elements.arrow&&Object.assign(t.elements.arrow.style,o.arrow),function(){Object.keys(t.elements).forEach(function(r){var n=t.elements[r],a=t.attributes[r]||{},s=Object.keys(t.styles.hasOwnProperty(r)?t.styles[r]:o[r]),i=s.reduce(function(c,p){return c[p]="",c},{});!W(n)||!Z(n)||(Object.assign(n.style,i),Object.keys(a).forEach(function(c){n.removeAttribute(c)}))})}}var Vn={name:"applyStyles",enabled:!0,phase:"write",fn:Hn,effect:Nn,requires:["computeStyles"]},Wn=[An,In,jn,Vn],Gn=Ln({defaultModifiers:Wn});function Un(e){return e==="x"?"y":"x"}function Ie(e,t,o){return ie(e,Oe(t,o))}function qn(e){var t=e.state,o=e.options,r=e.name,n=o.mainAxis,a=n===void 0?!0:n,s=o.altAxis,i=s===void 0?!1:s,c=o.boundary,p=o.rootBoundary,d=o.altBoundary,_=o.padding,k=o.tether,v=k===void 0?!0:k,g=o.tetherOffset,m=g===void 0?0:g,h=dt(t,{boundary:c,rootBoundary:p,padding:_,altBoundary:d}),w=Q(t.placement),y=he(t.placement),x=!y,u=ct(w),O=Un(u),b=t.modifiersData.popperOffsets,$=t.rects.reference,E=t.rects.popper,D=typeof m=="function"?m(Object.assign({},t.rects,{placement:t.placement})):m,j={x:0,y:0};if(!!b){if(a||i){var H=u==="y"?G:U,ee=u==="y"?K:X,L=u==="y"?"height":"width",te=b[u],oe=b[u]+h[H],V=b[u]-h[ee],ne=v?-E[L]/2:0,I=y===ve?$[L]:E[L],B=y===ve?-E[L]:-$[L],A=t.elements.arrow,re=v&&A?st(A):{width:0,height:0},pe=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:Nt(),Ee=pe[H],ce=pe[ee],J=Ie(0,$[L],re[L]),Le=x?$[L]/2-ne-J-Ee-D:I-J-Ee-D,qe=x?-$[L]/2+ne+J+ce+D:B+J+ce+D,ue=t.elements.arrow&&Pe(t.elements.arrow),Fe=ue?u==="y"?ue.clientTop||0:ue.clientLeft||0:0,ut=t.modifiersData.offset?t.modifiersData.offset[t.placement][u]:0,ft=b[u]+Le-ut-Fe,mt=b[u]+qe-ut;if(a){var vt=Ie(v?Oe(oe,ft):oe,te,v?ie(V,mt):V);b[u]=vt,j[u]=vt-te}if(i){var Yt=u==="x"?G:U,Jt=u==="x"?K:X,Me=b[O],ht=Me+h[Yt],gt=Me-h[Jt],bt=Ie(v?Oe(ht,ft):ht,Me,v?ie(gt,mt):gt);b[O]=bt,j[O]=bt-Me}}t.modifiersData[r]=j}}var Fn={name:"preventOverflow",enabled:!0,phase:"main",fn:qn,requiresIfExists:["offset"]},Kn={left:"right",right:"left",bottom:"top",top:"bottom"};function Be(e){return e.replace(/left|right|bottom|top/g,function(t){return Kn[t]})}var Xn={start:"end",end:"start"};function Pt(e){return e.replace(/start|end/g,function(t){return Xn[t]})}function Yn(e,t){t===void 0&&(t={});var o=t,r=o.placement,n=o.boundary,a=o.rootBoundary,s=o.padding,i=o.flipVariations,c=o.allowedAutoPlacements,p=c===void 0?Tt:c,d=he(r),_=d?i?$t:$t.filter(function(g){return he(g)===d}):De,k=_.filter(function(g){return p.indexOf(g)>=0});k.length===0&&(k=_);var v=k.reduce(function(g,m){return g[m]=dt(e,{placement:m,boundary:n,rootBoundary:a,padding:s})[Q(m)],g},{});return Object.keys(v).sort(function(g,m){return v[g]-v[m]})}function Jn(e){if(Q(e)===lt)return[];var t=Be(e);return[Pt(e),t,Pt(t)]}function Qn(e){var t=e.state,o=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var n=o.mainAxis,a=n===void 0?!0:n,s=o.altAxis,i=s===void 0?!0:s,c=o.fallbackPlacements,p=o.padding,d=o.boundary,_=o.rootBoundary,k=o.altBoundary,v=o.flipVariations,g=v===void 0?!0:v,m=o.allowedAutoPlacements,h=t.options.placement,w=Q(h),y=w===h,x=c||(y||!g?[Be(h)]:Jn(h)),u=[h].concat(x).reduce(function(ce,J){return ce.concat(Q(J)===lt?Yn(t,{placement:J,boundary:d,rootBoundary:_,padding:p,flipVariations:g,allowedAutoPlacements:m}):J)},[]),O=t.rects.reference,b=t.rects.popper,$=new Map,E=!0,D=u[0],j=0;j<u.length;j++){var H=u[j],ee=Q(H),L=he(H)===ve,te=[G,K].indexOf(ee)>=0,oe=te?"width":"height",V=dt(t,{placement:H,boundary:d,rootBoundary:_,altBoundary:k,padding:p}),ne=te?L?X:U:L?K:G;O[oe]>b[oe]&&(ne=Be(ne));var I=Be(ne),B=[];if(a&&B.push(V[ee]<=0),i&&B.push(V[ne]<=0,V[I]<=0),B.every(function(ce){return ce})){D=H,E=!1;break}$.set(H,B)}if(E)for(var A=g?3:1,re=function(J){var Le=u.find(function(qe){var ue=$.get(qe);if(ue)return ue.slice(0,J).every(function(Fe){return Fe})});if(Le)return D=Le,"break"},pe=A;pe>0;pe--){var Ee=re(pe);if(Ee==="break")break}t.placement!==D&&(t.modifiersData[r]._skip=!0,t.placement=D,t.reset=!0)}}var Zn={name:"flip",enabled:!0,phase:"main",fn:Qn,requiresIfExists:["offset"],data:{_skip:!1}};function er(e,t,o){var r=Q(e),n=[U,G].indexOf(r)>=0?-1:1,a=typeof o=="function"?o(Object.assign({},t,{placement:e})):o,s=a[0],i=a[1];return s=s||0,i=(i||0)*n,[U,X].indexOf(r)>=0?{x:i,y:s}:{x:s,y:i}}function tr(e){var t=e.state,o=e.options,r=e.name,n=o.offset,a=n===void 0?[0,0]:n,s=Tt.reduce(function(d,_){return d[_]=er(_,t.rects,a),d},{}),i=s[t.placement],c=i.x,p=i.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=c,t.modifiersData.popperOffsets.y+=p),t.modifiersData[r]=s}var or={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:tr},nr=function(t,o){return t=typeof t=="function"?t(Object.assign({},o.rects,{placement:o.placement})):t,Vt(typeof t!="number"?t:Wt(t,De))};function rr(e){var t,o=e.state,r=e.name,n=e.options,a=o.elements.arrow,s=o.modifiersData.popperOffsets,i=Q(o.placement),c=ct(i),p=[U,X].indexOf(i)>=0,d=p?"height":"width";if(!(!a||!s)){var _=nr(n.padding,o),k=st(a),v=c==="y"?G:U,g=c==="y"?K:X,m=o.rects.reference[d]+o.rects.reference[c]-s[c]-o.rects.popper[d],h=s[c]-o.rects.reference[c],w=Pe(a),y=w?c==="y"?w.clientHeight||0:w.clientWidth||0:0,x=m/2-h/2,u=_[v],O=y-k[d]-_[g],b=y/2-k[d]/2+x,$=Ie(u,b,O),E=c;o.modifiersData[r]=(t={},t[E]=$,t.centerOffset=$-b,t)}}function ar(e){var t=e.state,o=e.options,r=o.element,n=r===void 0?"[data-popper-arrow]":r;n!=null&&(typeof n=="string"&&(n=t.elements.popper.querySelector(n),!n)||!jt(t.elements.popper,n)||(t.elements.arrow=n))}var ir={name:"arrow",enabled:!0,phase:"main",fn:rr,effect:ar,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};const Je=e=>parseInt(e,10);function sr({arrowPadding:e,emit:t,locked:o,offsetDistance:r,offsetSkid:n,placement:a,popperNode:s,triggerNode:i}){const c=po({isOpen:!1,popperInstance:null}),p=m=>{var h;(h=c.popperInstance)===null||h===void 0||h.setOptions(w=>Xe(Ke({},w),{modifiers:[...w.modifiers,{name:"eventListeners",enabled:m}]}))},d=()=>p(!0),_=()=>p(!1),k=()=>{!c.isOpen||(c.isOpen=!1,t("close:popper"))},v=()=>{c.isOpen||(c.isOpen=!0,t("open:popper"))};$e([()=>c.isOpen,a],async([m])=>{m?(await g(),d()):_()});const g=async()=>{await uo(),c.popperInstance=Gn(i.value,s.value,{placement:a.value,modifiers:[Fn,Zn,{name:"flip",enabled:!o.value},ir,{name:"arrow",options:{padding:Je(e.value)}},or,{name:"offset",options:{offset:[Je(n.value),Je(r.value)]}}]}),c.popperInstance.update()};return nt(()=>{var m;(m=c.popperInstance)===null||m===void 0||m.destroy()}),Xe(Ke({},Et(c)),{open:v,close:k})}const lr={id:"arrow","data-popper-arrow":""};function cr(e,t){return f(),C("div",lr)}function Gt(e,t){t===void 0&&(t={});var o=t.insertAt;if(!(!e||typeof document=="undefined")){var r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",o==="top"&&r.firstChild?r.insertBefore(n,r.firstChild):r.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}}var dr=`
#arrow[data-v-20b7fd4a],
  #arrow[data-v-20b7fd4a]::before {
    transition: background 250ms ease-in-out;
    position: absolute;
    width: calc(10px - var(--popper-theme-border-width, 0px));
    height: calc(10px - var(--popper-theme-border-width, 0px));
    box-sizing: border-box;
    background: var(--popper-theme-background-color);
}
#arrow[data-v-20b7fd4a] {
    visibility: hidden;
}
#arrow[data-v-20b7fd4a]::before {
    visibility: visible;
    content: "";
    transform: rotate(45deg);
}

  /* Top arrow */
.popper[data-popper-placement^="top"] > #arrow[data-v-20b7fd4a] {
    bottom: -5px;
}
.popper[data-popper-placement^="top"] > #arrow[data-v-20b7fd4a]::before {
    border-right: var(--popper-theme-border-width)
      var(--popper-theme-border-style) var(--popper-theme-border-color);
    border-bottom: var(--popper-theme-border-width)
      var(--popper-theme-border-style) var(--popper-theme-border-color);
}

  /* Bottom arrow */
.popper[data-popper-placement^="bottom"] > #arrow[data-v-20b7fd4a] {
    top: -5px;
}
.popper[data-popper-placement^="bottom"] > #arrow[data-v-20b7fd4a]::before {
    border-left: var(--popper-theme-border-width)
      var(--popper-theme-border-style) var(--popper-theme-border-color);
    border-top: var(--popper-theme-border-width)
      var(--popper-theme-border-style) var(--popper-theme-border-color);
}

  /* Left arrow */
.popper[data-popper-placement^="left"] > #arrow[data-v-20b7fd4a] {
    right: -5px;
}
.popper[data-popper-placement^="left"] > #arrow[data-v-20b7fd4a]::before {
    border-right: var(--popper-theme-border-width)
      var(--popper-theme-border-style) var(--popper-theme-border-color);
    border-top: var(--popper-theme-border-width)
      var(--popper-theme-border-style) var(--popper-theme-border-color);
}

  /* Right arrow */
.popper[data-popper-placement^="right"] > #arrow[data-v-20b7fd4a] {
    left: -5px;
}
`;Gt(dr);const pt={};pt.render=cr;pt.__scopeId="data-v-20b7fd4a";var pr=pt;const ur=["onKeyup"];var Ut={props:{placement:{type:String,default:"bottom",validator:function(e){return["auto","auto-start","auto-end","top","top-start","top-end","bottom","bottom-start","bottom-end","right","right-start","right-end","left","left-start","left-end"].includes(e)}},disableClickAway:{type:Boolean,default:!1},offsetSkid:{type:String,default:"0"},offsetDistance:{type:String,default:"12"},hover:{type:Boolean,default:!1},show:{type:Boolean,default:null},disabled:{type:Boolean,default:!1},openDelay:{type:[Number,String],default:0},closeDelay:{type:[Number,String],default:0},zIndex:{type:[Number,String],default:9999},arrow:{type:Boolean,default:!1},arrowPadding:{type:String,default:"0"},interactive:{type:Boolean,default:!0},locked:{type:Boolean,default:!1},content:{type:String,default:null}},emits:["open:popper","close:popper"],setup(e,{emit:t}){const o=e;ro(I=>({c81fc0a4:e.zIndex}));const r=ao(),n=we(null),a=we(null),s=we(null),i=we(!1);ot(()=>{const I=r.default();if(I&&I.length>1)return console.error(`[Popper]: The <Popper> component expects only one child element at its root. You passed ${I.length} child nodes.`)});const{arrowPadding:c,closeDelay:p,content:d,disableClickAway:_,disabled:k,interactive:v,locked:g,offsetDistance:m,offsetSkid:h,openDelay:w,placement:y,show:x}=Et(o),{isOpen:u,open:O,close:b}=sr({arrowPadding:c,emit:t,locked:g,offsetDistance:m,offsetSkid:h,placement:y,popperNode:a,triggerNode:s}),{hasContent:$}=on(r,a,d),E=be(()=>x.value!==null),D=be(()=>k.value||!$.value),j=be(()=>u.value&&!D.value),H=be(()=>!_.value&&!E.value),ee=be(()=>v.value?`border: ${m.value}px solid transparent; margin: -${m.value}px;`:null),L=Ye.debounce(O,w.value),te=Ye.debounce(b,p.value),oe=async()=>{D.value||E.value||(te.clear(),L())},V=async()=>{E.value||(L.clear(),te())},ne=()=>{u.value?V():oe()};return $e([$,k],([I,B])=>{u.value&&(!I||B)&&b()}),$e(u,I=>{I?i.value=!0:Ye.debounce(()=>{i.value=!1},200)}),yt(()=>{E.value&&(x.value?L():te())}),yt(()=>{H.value&&tn(n,V)}),(I,B)=>(f(),C("div",{class:"inline-block",style:Lt(de(ee)),onMouseleave:B[2]||(B[2]=A=>e.hover&&V()),ref:(A,re)=>{re.popperContainerNode=A,n.value=A}},[l("div",{ref:(A,re)=>{re.triggerNode=A,s.value=A},onMouseover:B[0]||(B[0]=A=>e.hover&&oe()),onClick:ne,onFocus:oe,onKeyup:io(V,["esc"])},[fe(I.$slots,"default")],40,ur),z(co,{name:"fade"},{default:S(()=>[so(l("div",{onClick:B[1]||(B[1]=A=>!de(v)&&V()),class:"popper",ref:(A,re)=>{re.popperNode=A,a.value=A}},[fe(I.$slots,"content",{close:de(b),isOpen:i.value},()=>[P(M(de(d)),1)]),e.arrow?(f(),T(pr,{key:0})):R("",!0)],512),[[lo,de(j)]])]),_:3})],36))}},fr=`
.inline-block[data-v-5784ed69] {
    display: inline-block;
}
.popper[data-v-5784ed69] {
    transition: background 250ms ease-in-out;
    background: var(--popper-theme-background-color);
    padding: var(--popper-theme-padding);
    color: var(--popper-theme-text-color);
    border-radius: var(--popper-theme-border-radius);
    border-width: var(--popper-theme-border-width);
    border-style: var(--popper-theme-border-style);
    border-color: var(--popper-theme-border-color);
    box-shadow: var(--popper-theme-box-shadow);
    z-index: var(--c81fc0a4);
}
.popper[data-v-5784ed69]:hover,
  .popper:hover > #arrow[data-v-5784ed69]::before {
    background: var(--popper-theme-background-color-hover);
}
.inline-block[data-v-5784ed69] {
    display: inline-block;
}
.fade-enter-active[data-v-5784ed69],
  .fade-leave-active[data-v-5784ed69] {
    transition: opacity 0.2s ease;
}
.fade-enter-from[data-v-5784ed69],
  .fade-leave-to[data-v-5784ed69] {
    opacity: 0;
}
`;Gt(fr);Ut.__scopeId="data-v-5784ed69";var qt=(()=>{const e=Ut;return e.install=t=>{t.component("Popper",e)},e})();const mr={components:{ImagePreloader:ge,Popper:qt},props:{pet:Object}},vr={class:"pet-card-popper m-3"},hr={class:"row g-2"},gr={class:"col-auto"},br={class:"col"},_r={class:"mb-0"},wr={class:"mb-0"},yr=P(" Ver m\xE1s fotos ");function xr(e,t,o,r,n,a){const s=ze("ImagePreloader"),i=He,c=ze("Popper");return f(),T(c,{arrow:"",placement:"top",class:"popper-activator"},{content:S(()=>[l("div",vr,[l("div",hr,[l("div",gr,[z(i,{to:"/pets/"+o.pet.slug},{default:S(()=>[z(s,{option:"url_lg",image:o.pet.image,aspect:1,class:"shadow-sm rounded-5 pet-icon-popper"},null,8,["image"])]),_:1},8,["to"])]),l("div",br,[z(i,{to:"/pets/"+o.pet.slug,class:"text-decoration-none"},{default:S(()=>[l("h3",_r,[l("strong",null,M(o.pet.name),1)])]),_:1},8,["to"]),l("h6",wr,M(o.pet.nickname),1)])]),z(i,{to:"/pets/"+o.pet.slug,class:"btn btn-primary mt-2"},{default:S(()=>[yr]),_:1},8,["to"])])]),default:S(()=>[z(s,{option:"url_lg",image:o.pet.image,aspect:1,class:"shadow-sm pet-icon"},null,8,["image"])]),_:1})}var $r=N(mr,[["render",xr]]);const Cr={components:{PetIconItem:$r},setup(){return{mainStore:q()}},props:["pets","pets_count"]},kr={class:"row"},Or=l("div",{class:"col"},null,-1),Sr={class:"col-auto position-relative"},Pr=l("small",{class:"text-muted me-2"},"Gatos que aparecen en esta publicaci\xF3n",-1);function Dr(e,t,o,r,n,a){const s=ze("PetIconItem");return f(),C("div",kr,[Or,l("div",Sr,[Pr,(f(!0),C(Se,null,et(o.pets,i=>(f(),T(s,{key:i.id,pet:i},null,8,["pet"]))),128))])])}var ai=N(Cr,[["render",Dr]]);const Er={components:{CustomModal:se,ImagePreloader:ge},setup(){return{mainStore:q()}},data(){return{reactions:[],reactionsPaginator:null,loadingMore:!0}},props:["url"],emits:["close"],mounted(){this.getReactions(this.url),this.addScrollListener()},beforeUnmount(){this.removeScrollListener()},methods:{addScrollListener(){this.$refs.scroller.addEventListener("scroll",this.onScroll)},removeScrollListener(){this.$refs.scroller.removeEventListener("scroll",this.onScroll)},onScroll(){this.$refs.scroller.scrollHeight-(this.$refs.scroller.clientHeight+this.$refs.scroller.scrollTop)<200&&this.loadMore()},loadMore(){if(!this.loadingMore){if(this.loadingMore=!0,!this.reactionsPaginator.next){console.log("ya no hay mas, desactivar listener"),this.removeScrollListener(),this.loadingMore=!1;return}console.log("cargando mas..."),this.getReactions(this.reactionsPaginator.next)}},getReactions(e){F.get(`${e}`).then(t=>{this.reactionsPaginator=t.data.links,this.reactions=this.reactions.concat(t.data.data),this.loadingMore=!1})}}},Lr=P(" Reacciones "),Mr={style:{"max-height":"80vh","overflow-y":"auto"},class:"custom-scroll",ref:"scroller"};function Ar(e,t,o,r,n,a){const s=ze("ImagePreloader"),i=He,c=se;return f(),T(c,{"hide-buttons":!0,onCancel:t[0]||(t[0]=p=>e.$emit("close"))},{title:S(()=>[Lr]),default:S(()=>[l("div",Mr,[(f(!0),C(Se,null,et(n.reactions,p=>(f(),C("div",{key:p.id,class:"my-1"},[z(i,{to:p.user.url,role:"button"},{default:S(()=>[z(s,{image:p.user.image,class:"shadow rounded-5",aspect:1,style:{width:"40px"}},null,8,["image"])]),_:2},1032,["to"]),z(i,{to:p.user.url,class:"text-decoration-none text-dark ms-2",role:"button"},{default:S(()=>[P(M(p.user.name),1)]),_:2},1032,["to"])]))),128))],512)]),_:1})}var Ge=N(Er,[["render",Ar]]);const Rr={components:{ShowReactionsDialog:Ge},setup(){return{mainStore:q()}},data(){return{reactioning:!1,showReactions:!1}},props:["myReaction","id","reactionsCount","commentsCount"],emits:["react"],methods:{react(){this.reactioning||(this.reactioning=!0,F.post(`${this.mainStore.backendUrl}/api/posts/${this.id}/reactions`,null,{withCredentials:!0}).then(e=>{this.$emit("react",e.data)}).finally(()=>{this.reactioning=!1}))}}},Ir={class:"row g-0 py-2"},Br={class:"text-muted"},zr={class:"col text-center"},Tr=l("hr",{class:"my-0",style:{opacity:"0.1"}},null,-1),jr={class:"row text-secondary g-0 fw-bold",role:"button",style:{"user-select":"none","font-size":"14px"}},Hr={class:"col"},Nr={key:0,xmlns:"http://www.w3.org/2000/svg",width:"30",height:"20",fill:"currentColor",viewBox:"0 0 16 16"},Vr=l("path",{d:"M8 1.314C12.438-3.248 23.534 4.735 8 15-7.534 4.736 3.562-3.248 8 1.314z"},null,-1),Wr=[Vr],Gr={key:1,xmlns:"http://www.w3.org/2000/svg",width:"30",height:"20",fill:"currentColor",viewBox:"0 0 16 16"},Ur=l("path",{d:"m8 2.748-.717-.737C5.6.281 2.514.878 1.4 3.053c-.523 1.023-.641 2.5.314 4.385.92 1.815 2.834 3.989 6.286 6.357 3.452-2.368 5.365-4.542 6.286-6.357.955-1.886.838-3.362.314-4.385C13.486.878 10.4.28 8.717 2.01L8 2.748zM8 15C-7.333 4.868 3.279-3.04 7.824 1.143c.06.055.119.112.176.171a3.12 3.12 0 0 1 .176-.17C12.72-3.042 23.333 4.867 8 15z"},null,-1),qr=[Ur],Fr=P(" Me encanta "),Kr=l("div",{class:"col text-center py-3"},[l("svg",{xmlns:"http://www.w3.org/2000/svg",width:"30",height:"20",fill:"currentColor",viewBox:"0 0 16 16"},[l("path",{d:"M14 1a1 1 0 0 1 1 1v8a1 1 0 0 1-1 1h-2.5a2 2 0 0 0-1.6.8L8 14.333 6.1 11.8a2 2 0 0 0-1.6-.8H2a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1h12zM2 0a2 2 0 0 0-2 2v8a2 2 0 0 0 2 2h2.5a1 1 0 0 1 .8.4l1.9 2.533a1 1 0 0 0 1.6 0l1.9-2.533a1 1 0 0 1 .8-.4H14a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2z"})]),P(" Comentar ")],-1);function Xr(e,t,o,r,n,a){const s=He,i=Ge;return f(),C(Se,null,[l("div",Ir,[l("div",{class:"col text-center",role:"button",onClick:t[0]||(t[0]=c=>n.showReactions=!0)},[l("span",Br,M(o.reactionsCount)+" Reacciones",1)]),l("div",zr,[z(s,{to:"/posts/"+o.id,class:"text-muted text-decoration-none",role:"button"},{default:S(()=>[P(M(o.commentsCount)+" Comentarios ",1)]),_:1},8,["to"])])]),Tr,l("div",jr,[l("div",Hr,[l("div",{class:Mt(["text-center py-3 guide-3",{"text-primary":o.myReaction}]),onClick:t[1]||(t[1]=(...c)=>a.react&&a.react(...c))},[o.myReaction?(f(),C("svg",Nr,Wr)):(f(),C("svg",Gr,qr)),Fr],2)]),Kr,n.showReactions?(f(),T(i,{key:0,onClose:t[2]||(t[2]=c=>n.showReactions=!1),url:r.mainStore.backendUrl+"/api/posts/"+o.id+"/reactions"},null,8,["url"])):R("",!0)])],64)}var ii=N(Rr,[["render",Xr]]);const Yr={components:{CustomModal:se},setup(){return{mainStore:q()}},props:["comment"],emits:["close","commentDeleted","contadorActualizado"],methods:{deleteComment(){F.delete(`${this.mainStore.backendUrl}/api/comments/${this.comment.id}`).then(e=>{this.$emit("contadorActualizado",e.data.comments_count)}).then(()=>{this.$emit("commentDeleted",this.comment.id)}).then(()=>{this.$emit("close")})}}},Jr=P(" Eliminar comentario "),Qr=l("p",null,"\xBFDesea eliminar este comentario?",-1),Zr=P(" Cancelar "),ea=P(" Eliminar ");function ta(e,t,o,r,n,a){const s=se;return f(),T(s,{onCancel:t[0]||(t[0]=i=>e.$emit("close")),onOk:a.deleteComment},{title:S(()=>[Jr]),cancel:S(()=>[Zr]),ok:S(()=>[ea]),default:S(()=>[Qr]),_:1},8,["onOk"])}var Ft=N(Yr,[["render",ta]]);const oa={components:{CustomModal:se},setup(){return{mainStore:q()}},props:["comment"],emits:["close","commentEdited"],methods:{editComment(){const e=new DOMParser().parseFromString(this.$refs.textarea.innerHTML.replaceAll("<br>",`
`).replaceAll("<div>",`
<div>`),"text/html").documentElement.textContent;F.patch(`${this.mainStore.backendUrl}/api/comments/${this.comment.id}`,{description:e}).then(()=>{this.$emit("commentEdited",{id:this.comment.id,description:e})}).then(()=>{this.$emit("close")})}}},na=P(" Editar comentario "),ra={class:"contenedorTextarea mb-3"},aa=P(" Cancelar "),ia=P(" Guardar ");function sa(e,t,o,r,n,a){const s=se;return f(),T(s,{onCancel:t[1]||(t[1]=i=>e.$emit("close")),onOk:a.editComment},{title:S(()=>[na]),cancel:S(()=>[aa]),ok:S(()=>[ia]),default:S(()=>[l("div",ra,[l("span",{class:"textarea text-break",contenteditable:"",ref:"textarea",onKeydown:t[0]||(t[0]=(...i)=>e.onKeyDown&&e.onKeyDown(...i))},M(o.comment.description),545)])]),_:1},8,["onOk"])}var Kt=N(oa,[["render",sa],["__scopeId","data-v-31c2e609"]]);const la={components:{ImagePreloader:ge,DeleteCommentDialog:Ft,EditCommentDialog:Kt,ShowReactionsDialog:Ge},data(){return{miLike:!1,contador:0,showLikes:!1,showDeleteCommentDialog:!1,showEditCommentDialog:!1,showReactions:!1}},props:["comentario","postId","hideOptions"],emits:["commentDeleted","commentEdited","contadorActualizado"],mounted(){this.miLike=this.comentario.my_reaction,this.contador=this.comentario.reactions_count},methods:{like(){F.post(`${this.mainStore.backendUrl}/api/comments/${this.comentario.id}/reactions`).then(e=>{this.miLike=e.data.own_reaction,this.contador=e.data.reactions_count}).catch(e=>{console.log(e.data)})},contadorActualizado(e){this.$emit("contadorActualizado",e)},commentDeleted(e){this.$emit("commentDeleted",e)},commentEdited(e){this.$emit("commentEdited",e)}}},ca=Object.assign(la,{setup(e,{expose:t}){t();const r={mainStore:q(),ImagePreloader:ge,DeleteCommentDialog:Ft,EditCommentDialog:Kt,ShowReactionsDialog:Ge,axios:F,useMainStore:q,t:tt,timeAgo:mo};return Object.defineProperty(r,"__isScriptSetup",{enumerable:!1,value:!0}),r}}),Ue=e=>(Te("data-v-fbf3a8ec"),e=e(),je(),e),da={class:"py-1"},pa={class:"row g-0"},ua={class:"col col-auto py-1"},fa=["href"],ma={class:"col ps-2 pt-1"},va={class:"text-break",style:{"font-size":"15px"}},ha=["href"],ga={class:"fw-bold"},ba={style:{color:"#bbb"}},_a={class:"m-0",style:{color:"#777"}},wa={key:0,class:"position-relative"},ya=["src"],xa=Ue(()=>l("span",{class:"px-1 rounded position-absolute bottom-0 start-0 m-1",style:{"background-color":"rgba(255,255,255,0.4)"}},[l("img",{src:"https://www.gstatic.com/tenor/web/attribution/via_tenor_logo_grey.png",style:{filter:"drop-shadow(1px 1px 2px rgba(255, 255, 255, 1))"},width:"50"})],-1)),$a={class:"mb-1 pt-2 text-muted",style:{"font-size":"13px"}},Ca={key:1},ka={key:3,class:"ms-3"},Oa={key:0,class:"col col-auto"},Sa=Ue(()=>l("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",class:"py-3 px-2",style:{width:"32px",color:"#888"},viewBox:"0 0 16 16","data-bs-toggle":"dropdown","aria-expanded":"false"},[l("path",{d:"M3 9.5a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm5 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm5 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3z"})],-1)),Pa={class:"dropdown-menu dropdown-menu-end shadow"},Da=Ue(()=>l("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16"},[l("path",{d:"M15.502 1.94a.5.5 0 0 1 0 .706L14.459 3.69l-2-2L13.502.646a.5.5 0 0 1 .707 0l1.293 1.293zm-1.75 2.456-2-2L4.939 9.21a.5.5 0 0 0-.121.196l-.805 2.414a.25.25 0 0 0 .316.316l2.414-.805a.5.5 0 0 0 .196-.12l6.813-6.814z"}),l("path",{"fill-rule":"evenodd",d:"M1 13.5A1.5 1.5 0 0 0 2.5 15h11a1.5 1.5 0 0 0 1.5-1.5v-6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-.5.5h-11a.5.5 0 0 1-.5-.5v-11a.5.5 0 0 1 .5-.5H9a.5.5 0 0 0 0-1H2.5A1.5 1.5 0 0 0 1 2.5v11z"})],-1)),Ea=Ue(()=>l("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16"},[l("path",{d:"M2.5 1a1 1 0 0 0-1 1v1a1 1 0 0 0 1 1H3v9a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V4h.5a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1H10a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1H2.5zm3 4a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-1 0v-7a.5.5 0 0 1 .5-.5zM8 5a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-1 0v-7A.5.5 0 0 1 8 5zm3 .5v7a.5.5 0 0 1-1 0v-7a.5.5 0 0 1 1 0z"})],-1));function La(e,t,o,r,n,a){return f(),C("div",da,[l("div",pa,[l("div",ua,[l("a",{href:o.comentario.user.url},[z(r.ImagePreloader,{image:o.comentario.user.image,aspect:"1",class:"imagen-usuario shadow"},null,8,["image"])],8,fa)]),l("div",ma,[l("span",va,[l("a",{href:o.comentario.user.url,class:"text-dark text-decoration-none d-block mb-1"},[l("span",ga,M(o.comentario.user.name),1),l("span",ba," @"+M(o.comentario.user.username),1)],8,ha),l("p",_a,M(o.comentario.description),1),o.comentario.gif_url?(f(),C("div",wa,[l("img",{src:o.comentario.gif_url,class:"img-fluid shadow-sm",style:{"border-radius":"10px",height:"120px"}},null,8,ya),xa])):R("",!0)]),l("div",$a,[r.mainStore.userLogged?(f(),C("span",{key:0,class:Mt(["fw-bold",{"text-primary":n.miLike}]),role:"button",onClick:t[0]||(t[0]=(...s)=>a.like&&a.like(...s))},M(r.t("like")),3)):R("",!0),r.mainStore.userLogged&&n.contador?(f(),C("span",Ca," \xB7")):R("",!0),n.contador?(f(),C("span",{key:2,class:"fw-bold px-1",onClick:t[1]||(t[1]=s=>n.showReactions=!0),role:"button"},M(n.contador),1)):R("",!0),r.mainStore.userLogged||n.contador?(f(),C("span",ka)):R("",!0),l("span",null,M(r.timeAgo(o.comentario.created_at)),1)])]),!o.hideOptions&&r.mainStore.userLogged&&r.mainStore.userLogged.id==o.comentario.user.id?(f(),C("div",Oa,[Sa,l("ul",Pa,[l("li",null,[l("button",{class:"dropdown-item",type:"button",onClick:t[2]||(t[2]=s=>n.showEditCommentDialog=!0)},[Da,P(" "+M(r.t("editComment")),1)])]),l("li",null,[l("button",{class:"dropdown-item",type:"button",onClick:t[3]||(t[3]=s=>n.showDeleteCommentDialog=!0)},[Ea,P(" "+M(r.t("deleteComment")),1)])])])])):R("",!0)]),n.showDeleteCommentDialog?(f(),T(r.DeleteCommentDialog,{key:0,comment:o.comentario,onClose:t[4]||(t[4]=s=>n.showDeleteCommentDialog=!1),onCommentDeleted:a.commentDeleted,onContadorActualizado:a.contadorActualizado},null,8,["comment","onCommentDeleted","onContadorActualizado"])):R("",!0),n.showEditCommentDialog?(f(),T(r.EditCommentDialog,{key:1,comment:o.comentario,onClose:t[5]||(t[5]=s=>n.showEditCommentDialog=!1),onCommentEdited:a.commentEdited},null,8,["comment","onCommentEdited"])):R("",!0),n.showReactions?(f(),T(r.ShowReactionsDialog,{key:2,onClose:t[6]||(t[6]=s=>n.showReactions=!1),url:r.mainStore.backendUrl+"/api/comments/"+o.comentario.id+"/reactions"},null,8,["url"])):R("",!0)])}var si=N(ca,[["render",La],["__scopeId","data-v-fbf3a8ec"]]);const Ma={props:["img","postId"]},Aa={class:"p-1"},Ra=["src"];function Ia(e,t,o,r,n,a){return f(),C("div",Aa,[l("img",{src:o.img.url,ref:"img",class:"w-100",style:Lt([{aspectRatio:o.img.dims[0]/o.img.dims[1]},{"border-radius":"5px"}])},null,12,Ra)])}var Ba=N(Ma,[["render",Ia]]);const ye={gifs:[],yaCargoElPrimerComponente:!1},za={data(){return{gifs:[],timeOut:null,textoEscrito:"",showDialog:null}},props:["postId"],mounted(){},emits:["gifSeleccionado"],methods:{onDialogShown(){this.$refs.input.focus(),ye.yaCargoElPrimerComponente?this.gifs.length===0&&(this.gifs=ye.gifs):(ye.yaCargoElPrimerComponente=!0,this.cargarDefaultGifs())},cargarDefaultGifs(){this.obtenerGifsTenor("gato alegre")},escribir(){clearTimeout(this.timeOut),this.timeOut=setTimeout(()=>{const e=this.$refs.input.value.trim();e!==this.textoEscrito&&(this.textoEscrito=e,this.buscarGifs())},1e3)},buscarGifs(){this.obtenerGifsTenor(this.textoEscrito)},obtenerGifsTenor(e){F.get(`https://g.tenor.com/v1/search?q=${e}&key=L8942WRVS35R&limit=20&media_filter=basic&locale=es_PE&ar_range=standard`,{withCredentials:!1}).then(t=>{this.gifs=t.data.results,ye.gifs=t.data.results}).then(()=>{const t=new this.Masonry("#masonry-gifs-row"+this.postId,{percentPosition:!0});t.reloadItems(),t.layout()})},imprimir(e){this.$emit("gifSeleccionado",e),this.showDialog=!1}}},Ta=Object.assign(za,{async setup(e,{expose:t}){t();let o,r,n=Object;n=([o,r]=vo(()=>ho(()=>import("./masonry-9a1ff6d8.mjs").then(function(s){return s.m}),["masonry-9a1ff6d8.mjs","_commonjsHelpers-fe705abc.mjs"])),o=await o,r(),o).default;const a={sharedData:ye,Masonry:n,GifSearchedComponent:Ba,Popper:qt,axios:F,t:tt};return Object.defineProperty(a,"__isScriptSetup",{enumerable:!1,value:!0}),a}});function ja(e,t,o,r,n,a){return f(),C("p",null,"gifpiker comp")}var Xt=N(Ta,[["render",ja],["__scopeId","data-v-cd28a388"]]);const Ha={components:{GifPickerComponent:Xt,ImagePreloader:ge},data(){return{gifSeleccionado:null,mainStore:q()}},props:["postId"],emits:["commented","contadorActualizado"],methods:{onKeyDown(e){e.keyCode===13&&!e.shiftKey&&(e.preventDefault(),this.enviarComentario())},enviarComentario(){const e=new DOMParser().parseFromString(this.$refs.textarea.innerHTML.replaceAll("<br>",`
`).replaceAll("<div>",`
<div>`),"text/html").documentElement.textContent.trim();!e&&!this.gifSeleccionado||F({method:"post",url:`${this.mainStore.backendUrl}/api/posts/${this.postId}/comments`,data:{description:e,gif_url:this.gifSeleccionado},withCredentials:!0}).then(t=>{this.$emit("commented",{id:t.data.id,description:e,created_at:Math.trunc(Date.now()/1e3),gif_url:this.gifSeleccionado,user:this.mainStore.userLogged}),this.$emit("contadorActualizado",t.data.comments_count),this.$refs.textarea.innerHTML="",this.gifSeleccionado=null}).catch(t=>{console.log(t);const o=Object.keys(t.response.data.errors);o.length>0&&alert(t.response.data.errors[o[0]])})},recibirGif(e){this.gifSeleccionado=e}}},Na=Object.assign(Ha,{setup(e,{expose:t}){t();const r={mainStore:q(),useMainStore:q,GifPickerComponent:Xt,ImagePreloader:ge,axios:F};return Object.defineProperty(r,"__isScriptSetup",{enumerable:!1,value:!0}),r}}),Va=e=>(Te("data-v-a265282e"),e=e(),je(),e),Wa={class:"row g-0 border-top pt-1"},Ga={key:0,class:"col-auto position-relative mx-auto"},Ua=["src"],qa={key:0,class:"row g-0 pb-2 pt-1"},Fa={class:"col col-auto"},Ka={class:"col ms-2"},Xa={class:"row g-0 contenedorTextarea"},Ya={class:"col"},Ja={class:"col col-auto guide-4",style:{color:"#f50"}},Qa=Va(()=>l("path",{d:"M16.6915026,12.4744748 L3.50612381,13.2599618 C3.19218622,13.2599618 3.03521743,13.4170592 3.03521743,13.5741566 L1.15159189,20.0151496 C0.8376543,20.8006365 0.99,21.89 1.77946707,22.52 C2.41,22.99 3.50612381,23.1 4.13399899,22.8429026 L21.714504,14.0454487 C22.6563168,13.5741566 23.1272231,12.6315722 22.9702544,11.6889879 C22.8132856,11.0605983 22.3423792,10.4322088 21.714504,10.118014 L4.13399899,1.16346272 C3.34915502,0.9 2.40734225,1.00636533 1.77946707,1.4776575 C0.994623095,2.10604706 0.8376543,3.0486314 1.15159189,3.99121575 L3.03521743,10.4322088 C3.03521743,10.5893061 3.34915502,10.7464035 3.50612381,10.7464035 L16.6915026,11.5318905 C16.6915026,11.5318905 17.1624089,11.5318905 17.1624089,12.0031827 C17.1624089,12.4744748 16.6915026,12.4744748 16.6915026,12.4744748 Z","fill-rule":"evenodd",stroke:"none"},null,-1)),Za=[Qa];function ei(e,t,o,r,n,a){var s;return f(),C("div",null,[l("div",Wa,[n.gifSeleccionado?(f(),C("div",Ga,[l("img",{src:n.gifSeleccionado,style:{height:"100px","border-radius":"5px"}},null,8,Ua),l("button",{type:"button",class:"btn-close bg-white shadow position-absolute top-0 end-0 m-1 p-2 rounded-circle","aria-label":"Close",onClick:t[0]||(t[0]=i=>n.gifSeleccionado=null)})])):R("",!0)]),r.mainStore.userLogged?(f(),C("div",qa,[l("div",Fa,[z(r.ImagePreloader,{image:(s=r.mainStore.userLogged)==null?void 0:s.image,aspect:"1",class:"imagenUsuario shadow"},null,8,["image"])]),l("div",Ka,[l("div",Xa,[l("div",Ya,[l("span",{class:"textarea text-break",contenteditable:"",ref:"textarea",onKeydown:t[1]||(t[1]=(...i)=>a.onKeyDown&&a.onKeyDown(...i))},null,544)]),l("div",Ja,[z(r.GifPickerComponent,{"post-id":o.postId,onGifSeleccionado:a.recibirGif},null,8,["post-id","onGifSeleccionado"]),(f(),C("svg",{onClick:t[2]||(t[2]=(...i)=>a.enviarComentario&&a.enviarComentario(...i)),class:"pe-2",fill:"currentColor",role:"button",width:"35",height:"35",viewBox:"0 0 24 24"},Za))])])])])):R("",!0)])}var li=N(Na,[["render",ei],["__scopeId","data-v-a265282e"]]);export{si as C,li as N,ri as P,ii as R,ai as a};
