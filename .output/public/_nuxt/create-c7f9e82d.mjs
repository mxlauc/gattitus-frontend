import{_ as f,u as h,w as c,o as g,c as v,b as r,F as b,a as u,m as d,r as y,g as E}from"./entry-de171b54.mjs";const T={data(){return{editor:null}},mounted(){const o=this.uploadByFile;this.editor=new this.EditorJS({readOnly:!1,tools:{header:this.Header,image:{class:this.ImageTool,config:{buttonContent:"Escoge una image",uploader:{uploadByFile:o}}},list:{class:this.List,inlineToolbar:!0}},i18n:{messages:{ui:{blockTunes:{toggler:{"Click to tune":"Click para m\xE1s opciones","or drag to move":"O arrastra para mover"}},inlineToolbar:{converter:{"Convert to":"Convertir a"}},toolbar:{toolbox:{Add:"Agregar elemento"}}},toolNames:{Text:"Texto",Heading:"Titulo",List:"Lista",Link:"Enlace",Bold:"Negrita",Italic:"Italica"},tools:{link:{"Add a link":"Agregar enlace"},stub:{"The block can not be displayed correctly.":"El elemento no puede ser mostrado correctamente"}},blockTunes:{delete:{Delete:"Eliminar"},moveUp:{"Move up":"Subir"},moveDown:{"Move down":"Bajar"}}}}})},methods:{uploadByFile(o){return new Promise((s,e)=>{const t=new FormData;t.append("file",o),u.post(`${this.mainStore.backendUrl}/api/images`,t,{headers:{"Content-Type":"multipart/form-data"}}).then(a=>{s({success:1,file:{url:a.data.url}})}).catch(a=>{console.log(a),e(a)})})},save(){this.editor.save().then(o=>console.log(JSON.stringify(o))),this.editor.save().then(o=>{u.post(`${this.mainStore.backendUrl}/api/pages`,{title:this.$refs.title.value,slug:this.$refs.slug.value,content:JSON.stringify(o)})})}}},k=Object.assign(T,{async setup(o,{expose:s}){s();let e,t;const a=h();let i=Object,l=Object,_=Object,p=Object;i=([e,t]=c(()=>d(()=>import("./editor-1cdd695b.mjs").then(function(n){return n.e}),["editor-1cdd695b.mjs","_commonjsHelpers-fe705abc.mjs"])),e=await e,t(),e).default,l=([e,t]=c(()=>d(()=>import("./bundle-9c610aa9.mjs").then(function(n){return n.b}),["bundle-9c610aa9.mjs","_commonjsHelpers-fe705abc.mjs"])),e=await e,t(),e).default,_=([e,t]=c(()=>d(()=>import("./bundle-8d23f721.mjs").then(function(n){return n.b}),["bundle-8d23f721.mjs","_commonjsHelpers-fe705abc.mjs"])),e=await e,t(),e).default,p=([e,t]=c(()=>d(()=>import("./bundle-c30f7d65.mjs").then(function(n){return n.b}),["bundle-c30f7d65.mjs","_commonjsHelpers-fe705abc.mjs"])),e=await e,t(),e).default;const m={mainStore:a,EditorJS:i,Header:l,ImageTool:_,List:p,axios:u,useMainStore:h};return Object.defineProperty(m,"__isScriptSetup",{enumerable:!1,value:!0}),m}}),O={class:"row"},w={class:"col-6"},C={type:"text",placeholder:"title",ref:"title"},$={class:"col-6"},x={type:"text",placeholder:"slug",ref:"slug"},S=r("div",{class:"card"},[r("div",{id:"editorjs"})],-1);function P(o,s,e,t,a,i){return g(),v(b,null,[r("button",{class:"btn btn-primary",onClick:s[0]||(s[0]=(...l)=>i.save&&i.save(...l))}," Guardar "),r("div",O,[r("div",w,[r("input",C,null,512)]),r("div",$,[r("input",x,null,512)])]),S],64)}var A=f(k,[["render",P]]);const B={components:{PageCreate:A}};function L(o,s,e,t,a,i){const l=y("PageCreate");return g(),E(l)}var D=f(B,[["render",L]]);export{D as default};
