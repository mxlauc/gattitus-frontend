import{_ as u,u as f,o as a,g as b,b as t,q as S,c as d,i as y,t as c,F as h,T as k,a as g,s as x,v as I,r as _,d as $,h as R,k as v}from"./entry-c2e40f0b.mjs";import{I as w}from"./ImagePreloader-64058af6.mjs";const A={data(){return{punishments:[{time:1,title:"Un d\xEDa"},{time:3,title:"Tres d\xEDas"},{time:7,title:"Una semana"},{time:14,title:"Dos semanas"},{time:30,title:"Un mes"},{time:365,title:"Un a\xF1o"}]}},emits:["close"],inject:["postId"],methods:{sendReport(){const e=new FormData(this.$refs.form);e.append("user_id",this.mainStore.userLogged.id),console.log(e),g.post(`${this.mainStore.backendUrl}/api/admin/punishments`,e).then(o=>{this.close()})},close(){this.$emit("close")}}},C=Object.assign(A,{setup(e,{expose:o}){o();const l={mainStore:f(),axios:g,useMainStore:f};return Object.defineProperty(l,"__isScriptSetup",{enumerable:!1,value:!0}),l}}),P=e=>(x("data-v-77d4b9d0"),e=e(),I(),e),U={class:"post-modal"},L={class:"card shadow p-4"},V=P(()=>t("h3",null,"Aplicar castigo",-1)),B=["value","id"],D=["for"],N={class:"row"},T={class:"col"},j=P(()=>t("div",{class:"col"},[t("button",{type:"submit",class:"btn btn-primary"}," Aplicar castigo ")],-1));function F(e,o,n,l,r,i){return a(),b(k,{to:"body"},[t("div",U,[t("div",L,[V,t("form",{onSubmit:o[1]||(o[1]=S((...s)=>i.sendReport&&i.sendReport(...s),["prevent"])),ref:"form"},[(a(!0),d(h,null,y(r.punishments,s=>(a(),d("div",{class:"form-check",key:s.time},[t("input",{class:"form-check-input",type:"radio",name:"time",value:s.time,id:"radio"+s.time},null,8,B),t("label",{class:"form-check-label",for:"radio"+s.time},c(s.title),9,D)]))),128)),t("div",N,[t("div",T,[t("button",{type:"button",class:"btn btn-secondary",onClick:o[0]||(o[0]=(...s)=>i.close&&i.close(...s))}," Cancelar ")]),j])],544)])])])}var M=u(C,[["render",F],["__scopeId","data-v-77d4b9d0"]]);const O={components:{ImagePreloader:w,ApplyPunishment:M},data(){return{applyPunishment:!1}},props:["post"]},q={class:"card"},E={class:"card-body"},z=v(" report\xF3 la publicaci\xF3n de "),G=v(" por "),H=t("hr",null,null,-1),J={class:"row"},K={class:"col-auto"},Q={class:"col"},W=t("button",{class:"btn btn-primary mx-2"}," Ver publicaci\xF3n ",-1),X=t("br",null,null,-1);function Y(e,o,n,l,r,i){const s=_("image-preloader"),p=_("ApplyPunishment");return a(),d(h,null,[t("div",q,[t("div",E,[t("strong",null,c(n.post.reports[0].user.name),1),z,t("strong",null,c(n.post.user.name),1),G,t("strong",null,c(n.post.reports[0].report_type.title),1),H,t("div",J,[t("div",K,[$(s,{image:n.post.simple_post.image.url_lg,class:"shadow",style:{width:"150px"},aspect:"1"},null,8,["image"])]),t("div",Q,[t("p",null,[t("i",null,'"'+c(n.post.simple_post.description)+'"',1)]),W,t("button",{class:"btn btn-primary mx-2",onClick:o[0]||(o[0]=m=>r.applyPunishment=!0)}," Aplicar castigo ")])])])]),X,r.applyPunishment===!0?(a(),b(p,{key:0,onClose:o[1]||(o[1]=m=>r.applyPunishment=!1)})):R("",!0)],64)}var Z=u(O,[["render",Y]]);const tt={components:{ReportedPostItem:Z},setup(){return{mainStore:f()}},data(){return{postsPaginate:null}},mounted(){g.get(`${this.mainStore.backendUrl}/api/admin/reports/posts`).then(e=>{this.postsPaginate=e.data,console.log(e.data)})}};function et(e,o,n,l,r,i){var p;const s=_("ReportedPostItem");return a(!0),d(h,null,y((p=r.postsPaginate)==null?void 0:p.data,m=>(a(),b(s,{key:m.id,post:m},null,8,["post"]))),128)}var st=u(tt,[["render",et]]);const ot={components:{ReportedPostsList:st}},nt=v(" lista reprots posts ");function rt(e,o,n,l,r,i){const s=_("ReportedPostsList");return a(),d(h,null,[nt,$(s)],64)}var lt=u(ot,[["render",rt]]);export{lt as default};
