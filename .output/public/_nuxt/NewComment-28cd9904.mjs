var Jt=Object.defineProperty,Qt=Object.defineProperties;var Zt=Object.getOwnPropertyDescriptors;var bt=Object.getOwnPropertySymbols;var eo=Object.prototype.hasOwnProperty,to=Object.prototype.propertyIsEnumerable;var _t=(t,e,o)=>e in t?Jt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[e]=o,Ge=(t,e)=>{for(var o in e||(e={}))eo.call(e,o)&&_t(t,o,e[o]);if(bt)for(var o of bt(e))to.call(e,o)&&_t(t,o,e[o]);return t},Ke=(t,e)=>Qt(t,Zt(e));import{_ as N,o as f,g as T,b as l,A as fe,c as C,h as R,T as Pt,u as q,p as S,l as P,a as G,s as oo,i as Ze,t as A,F as Oe,v as ze,x as Te,d as z,j as et,q as je,B as no,D as ro,E as we,G as tt,H as Dt,I as be,J as xe,K as wt,L as ao,M as io,N as so,O as de,P as lo,n as Et,Q as ot,R as co,S as po,U as uo,r as Ie,V as Lt,y as fo,w as mo,m as vo}from"./entry-9727b2c5.mjs";import{I as ge}from"./ImagePreloader-320a30b4.mjs";const ho={mounted(){document.body.style.overflow="hidden"},unmounted(){document.body.style.overflow=null},props:["hideButtons"],emits:["cancel","ok"]},go={class:"modal-container",ref:"modalContainer"},bo={class:"card shadow p-3"},_o={key:0,class:"row"},wo={class:"col text-center"},yo={class:"col text-center"};function xo(t,e,o,r,n,a){return f(),T(Pt,{to:"body"},[l("div",go,[l("div",{class:"modal-background",onClick:e[0]||(e[0]=s=>t.$emit("cancel"))}),l("div",bo,[l("h3",null,[fe(t.$slots,"title",{},void 0,!0)]),fe(t.$slots,"default",{},void 0,!0),o.hideButtons?R("",!0):(f(),C("div",_o,[l("div",wo,[l("button",{onClick:e[1]||(e[1]=s=>t.$emit("cancel")),class:"btn btn-secondary"},[fe(t.$slots,"cancel",{},void 0,!0)])]),l("div",yo,[l("button",{onClick:e[2]||(e[2]=s=>t.$emit("ok")),class:"btn btn-primary"},[fe(t.$slots,"ok",{},void 0,!0)])])]))])],512)])}var se=N(ho,[["render",xo],["__scopeId","data-v-41ef62b3"]]);const $o={components:{CustomModal:se},setup(){return{mainStore:q()}},data(){return{}},emits:["close"],inject:["postId"],methods:{eliminarPost(){this.mainStore.deletePost(this.postId).then(()=>{this.close()})},close(){this.$emit("close")}}},Co=P(" \xBFEliminar publicaci\xF3n? "),ko=l("p",null,"\xBFEsta seguro que desea eliminar esta publicaci\xF3n?",-1),Oo=P(" Cancelar "),So=P(" Aceptar ");function Po(t,e,o,r,n,a){const s=se;return f(),T(s,{onCancel:a.close,onOk:a.eliminarPost},{title:S(()=>[Co]),cancel:S(()=>[Oo]),ok:S(()=>[So]),default:S(()=>[ko]),_:1},8,["onCancel","onOk"])}var At=N($o,[["render",Po]]);const Do={setup(){return{mainStore:q()}},data(){return{reportsPaginate:null}},mounted(){G.get(`${this.mainStore.backendUrl}/api/admin/reports/types`).then(t=>{this.reportsPaginate=t.data})},emits:["close"],inject:["postId"],methods:{sendReport(){var e;const t=new FormData(this.$refs.form);t.append("post_id",this.postId),t.append("user_id",(e=this.mainStore.userLogged)==null?void 0:e.id),console.log(t),G.post(`${this.mainStore.backendUrl}/api/admin/reports`,t).then(o=>{this.close()})},close(){this.$emit("close")}}},He=t=>(ze("data-v-5ea56779"),t=t(),Te(),t),Eo={class:"post-modal"},Lo={class:"card shadow p-4"},Ao=He(()=>l("h3",null,"\xBFReportar publicaci\xF3n?",-1)),Mo=["value"],Ro=He(()=>l("textarea",{class:"form-control my-3",name:"details",id:"",cols:"30",rows:"4",placeholder:"Detalles"},null,-1)),Bo=He(()=>l("p",{class:"text-center"},[l("small",null,[P(" Reportar esta publicaci\xF3n para que "),l("br"),P(" el administrador de Gattitus la revise ")])],-1)),Io={class:"row"},zo={class:"col"},To=He(()=>l("div",{class:"col"},[l("button",{type:"submit",class:"btn btn-primary"}," Enviar reporte ")],-1));function jo(t,e,o,r,n,a){var s;return f(),T(Pt,{to:"body"},[l("div",Eo,[l("div",Lo,[Ao,l("form",{onSubmit:e[1]||(e[1]=oo((...i)=>a.sendReport&&a.sendReport(...i),["prevent"])),ref:"form"},[(f(!0),C(Oe,null,Ze((s=n.reportsPaginate)==null?void 0:s.data,i=>(f(),C("label",{class:"d-block",key:i.id},[l("input",{type:"radio",name:"report_type_id",value:i.id},null,8,Mo),P(" "+A(i.title),1)]))),128)),Ro,Bo,l("div",Io,[l("div",zo,[l("button",{type:"button",class:"btn btn-secondary",onClick:e[0]||(e[0]=(...i)=>a.close&&a.close(...i))}," Cancelar ")]),To])],544)])])])}var Mt=N(Do,[["render",jo],["__scopeId","data-v-5ea56779"]]);const Ho={components:{DeletePostDialog:At,ReportPostDialog:Mt},data(){return{deletePostDialog:!1,reportPostDialog:!1}},props:["postId"],provide:["postId"]},No=Object.assign(Ho,{setup(t,{expose:e}){e();const o={DeletePostDialog:At,ReportPostDialog:Mt,t:et};return Object.defineProperty(o,"__isScriptSetup",{enumerable:!1,value:!0}),o}}),Ne=t=>(ze("data-v-7772cfdf"),t=t(),Te(),t),Vo={class:"dropdown-menu dropdown-menu-end shadow p-2"},Wo=Ne(()=>l("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-arrow-up-right-square",viewBox:"0 0 16 16"},[l("path",{"fill-rule":"evenodd",d:"M15 2a1 1 0 0 0-1-1H2a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V2zM0 2a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2zm5.854 8.803a.5.5 0 1 1-.708-.707L9.243 6H6.475a.5.5 0 1 1 0-1h3.975a.5.5 0 0 1 .5.5v3.975a.5.5 0 1 1-1 0V6.707l-4.096 4.096z"})],-1)),Uo=Ne(()=>l("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-pencil-square",viewBox:"0 0 16 16"},[l("path",{d:"M15.502 1.94a.5.5 0 0 1 0 .706L14.459 3.69l-2-2L13.502.646a.5.5 0 0 1 .707 0l1.293 1.293zm-1.75 2.456-2-2L4.939 9.21a.5.5 0 0 0-.121.196l-.805 2.414a.25.25 0 0 0 .316.316l2.414-.805a.5.5 0 0 0 .196-.12l6.813-6.814z"}),l("path",{"fill-rule":"evenodd",d:"M1 13.5A1.5 1.5 0 0 0 2.5 15h11a1.5 1.5 0 0 0 1.5-1.5v-6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-.5.5h-11a.5.5 0 0 1-.5-.5v-11a.5.5 0 0 1 .5-.5H9a.5.5 0 0 0 0-1H2.5A1.5 1.5 0 0 0 1 2.5v11z"})],-1)),Fo=P(" Editar publicacion "),qo=Ne(()=>l("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-trash-fill",viewBox:"0 0 16 16"},[l("path",{d:"M2.5 1a1 1 0 0 0-1 1v1a1 1 0 0 0 1 1H3v9a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V4h.5a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1H10a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1H2.5zm3 4a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-1 0v-7a.5.5 0 0 1 .5-.5zM8 5a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-1 0v-7A.5.5 0 0 1 8 5zm3 .5v7a.5.5 0 0 1-1 0v-7a.5.5 0 0 1 1 0z"})],-1)),Go=P(" Eliminar publicaci\xF3n "),Ko=[qo,Go],Xo=Ne(()=>l("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-trash-fill",viewBox:"0 0 16 16"},[l("path",{d:"M2.5 1a1 1 0 0 0-1 1v1a1 1 0 0 0 1 1H3v9a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V4h.5a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1H10a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1H2.5zm3 4a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-1 0v-7a.5.5 0 0 1 .5-.5zM8 5a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-1 0v-7A.5.5 0 0 1 8 5zm3 .5v7a.5.5 0 0 1-1 0v-7a.5.5 0 0 1 1 0z"})],-1)),Yo=P(" Reportar publicaci\xF3n "),Jo=[Xo,Yo];function Qo(t,e,o,r,n,a){const s=je;return f(),C(Oe,null,[l("ul",Vo,[l("li",null,[z(s,{class:"list-group-item border-0",to:"/posts/"+o.postId},{default:S(()=>[Wo,P(" "+A(r.t("seePost")),1)]),_:1},8,["to"])]),l("li",null,[z(s,{class:"list-group-item border-0",to:"/posts/"+o.postId+"/edit"},{default:S(()=>[Uo,Fo]),_:1},8,["to"])]),l("li",{class:"list-group-item border-0",role:"button",onClick:e[0]||(e[0]=i=>n.deletePostDialog=!0)},Ko),l("li",{class:"list-group-item border-0",role:"button",onClick:e[1]||(e[1]=i=>n.reportPostDialog=!0)},Jo)]),n.deletePostDialog?(f(),T(r.DeletePostDialog,{key:0,onClose:e[2]||(e[2]=i=>n.deletePostDialog=!1)})):R("",!0),n.reportPostDialog?(f(),T(r.ReportPostDialog,{key:1,onClose:e[3]||(e[3]=i=>n.reportPostDialog=!1)})):R("",!0)],64)}var ni=N(No,[["render",Qo],["__scopeId","data-v-7772cfdf"]]);function Je(t,e,o){var r,n,a,s,i;e==null&&(e=100);function c(){var d=Date.now()-s;d<e&&d>=0?r=setTimeout(c,e-d):(r=null,o||(i=t.apply(a,n),a=n=null))}var p=function(){a=this,n=arguments,s=Date.now();var d=o&&!r;return r||(r=setTimeout(c,e)),d&&(i=t.apply(a,n),a=n=null),i};return p.clear=function(){r&&(clearTimeout(r),r=null)},p.flush=function(){r&&(i=t.apply(a,n),a=n=null,clearTimeout(r),r=null)},p}Je.debounce=Je;var Xe=Je;function Zo(t,e,o){uo(t)?xe(t,(r,n)=>{n==null||n.removeEventListener(e,o),r==null||r.addEventListener(e,o)}):tt(()=>{t.addEventListener(e,o)}),ot(()=>{var r;(r=de(t))===null||r===void 0||r.removeEventListener(e,o)})}function en(t,e){const o="pointerdown";return typeof window=="undefined"||!window?void 0:Zo(window,o,n=>{const a=de(t);!a||a===n.target||n.composedPath().includes(a)||e(n)})}function tn(t,e,o){let r=null;const n=we(!1);tt(()=>{(t.content!==void 0||o.value)&&(n.value=!0),r=new MutationObserver(a),r.observe(e.value,{childList:!0,subtree:!0})}),ot(()=>r.disconnect()),xe(o,s=>{s?n.value=!0:n.value=!1});const a=()=>{t.content?n.value=!0:n.value=!1};return{hasContent:n}}function me(t,e){var o=t.getBoundingClientRect(),r=1,n=1;return{width:o.width/r,height:o.height/n,top:o.top/n,right:o.right/r,bottom:o.bottom/n,left:o.left/r,x:o.left/r,y:o.top/n}}function Y(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function nt(t){var e=Y(t),o=e.pageXOffset,r=e.pageYOffset;return{scrollLeft:o,scrollTop:r}}function $e(t){var e=Y(t).Element;return t instanceof e||t instanceof Element}function W(t){var e=Y(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function Rt(t){if(typeof ShadowRoot=="undefined")return!1;var e=Y(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function on(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function nn(t){return t===Y(t)||!W(t)?nt(t):on(t)}function Z(t){return t?(t.nodeName||"").toLowerCase():null}function le(t){return(($e(t)?t.ownerDocument:t.document)||window.document).documentElement}function rt(t){return me(le(t)).left+nt(t).scrollLeft}function ae(t){return Y(t).getComputedStyle(t)}function at(t){var e=ae(t),o=e.overflow,r=e.overflowX,n=e.overflowY;return/auto|scroll|overlay|hidden/.test(o+n+r)}function rn(t){var e=t.getBoundingClientRect(),o=e.width/t.offsetWidth||1,r=e.height/t.offsetHeight||1;return o!==1||r!==1}function an(t,e,o){o===void 0&&(o=!1);var r=W(e);W(e)&&rn(e);var n=le(e),a=me(t),s={scrollLeft:0,scrollTop:0},i={x:0,y:0};return(r||!r&&!o)&&((Z(e)!=="body"||at(n))&&(s=nn(e)),W(e)?(i=me(e),i.x+=e.clientLeft,i.y+=e.clientTop):n&&(i.x=rt(n))),{x:a.left+s.scrollLeft-i.x,y:a.top+s.scrollTop-i.y,width:a.width,height:a.height}}function it(t){var e=me(t),o=t.offsetWidth,r=t.offsetHeight;return Math.abs(e.width-o)<=1&&(o=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:t.offsetLeft,y:t.offsetTop,width:o,height:r}}function Ve(t){return Z(t)==="html"?t:t.assignedSlot||t.parentNode||(Rt(t)?t.host:null)||le(t)}function Bt(t){return["html","body","#document"].indexOf(Z(t))>=0?t.ownerDocument.body:W(t)&&at(t)?t:Bt(Ve(t))}function ye(t,e){var o;e===void 0&&(e=[]);var r=Bt(t),n=r===((o=t.ownerDocument)==null?void 0:o.body),a=Y(r),s=n?[a].concat(a.visualViewport||[],at(r)?r:[]):r,i=e.concat(s);return n?i:i.concat(ye(Ve(s)))}function sn(t){return["table","td","th"].indexOf(Z(t))>=0}function yt(t){return!W(t)||ae(t).position==="fixed"?null:t.offsetParent}function ln(t){var e=navigator.userAgent.toLowerCase().indexOf("firefox")!==-1,o=navigator.userAgent.indexOf("Trident")!==-1;if(o&&W(t)){var r=ae(t);if(r.position==="fixed")return null}for(var n=Ve(t);W(n)&&["html","body"].indexOf(Z(n))<0;){var a=ae(n);if(a.transform!=="none"||a.perspective!=="none"||a.contain==="paint"||["transform","perspective"].indexOf(a.willChange)!==-1||e&&a.willChange==="filter"||e&&a.filter&&a.filter!=="none")return n;n=n.parentNode}return null}function Se(t){for(var e=Y(t),o=yt(t);o&&sn(o)&&ae(o).position==="static";)o=yt(o);return o&&(Z(o)==="html"||Z(o)==="body"&&ae(o).position==="static")?e:o||ln(t)||e}var U="top",K="bottom",X="right",F="left",st="auto",Pe=[U,K,X,F],ve="start",Ce="end",cn="clippingParents",It="viewport",_e="popper",dn="reference",xt=Pe.reduce(function(t,e){return t.concat([e+"-"+ve,e+"-"+Ce])},[]),zt=[].concat(Pe,[st]).reduce(function(t,e){return t.concat([e,e+"-"+ve,e+"-"+Ce])},[]),pn="beforeRead",un="read",fn="afterRead",mn="beforeMain",vn="main",hn="afterMain",gn="beforeWrite",bn="write",_n="afterWrite",wn=[pn,un,fn,mn,vn,hn,gn,bn,_n];function yn(t){var e=new Map,o=new Set,r=[];t.forEach(function(a){e.set(a.name,a)});function n(a){o.add(a.name);var s=[].concat(a.requires||[],a.requiresIfExists||[]);s.forEach(function(i){if(!o.has(i)){var c=e.get(i);c&&n(c)}}),r.push(a)}return t.forEach(function(a){o.has(a.name)||n(a)}),r}function xn(t){var e=yn(t);return wn.reduce(function(o,r){return o.concat(e.filter(function(n){return n.phase===r}))},[])}function $n(t){var e;return function(){return e||(e=new Promise(function(o){Promise.resolve().then(function(){e=void 0,o(t())})})),e}}function Q(t){return t.split("-")[0]}function Cn(t){var e=t.reduce(function(o,r){var n=o[r.name];return o[r.name]=n?Object.assign({},n,r,{options:Object.assign({},n.options,r.options),data:Object.assign({},n.data,r.data)}):r,o},{});return Object.keys(e).map(function(o){return e[o]})}function kn(t){var e=Y(t),o=le(t),r=e.visualViewport,n=o.clientWidth,a=o.clientHeight,s=0,i=0;return r&&(n=r.width,a=r.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(s=r.offsetLeft,i=r.offsetTop)),{width:n,height:a,x:s+rt(t),y:i}}var ie=Math.max,ke=Math.min,Ae=Math.round;function On(t){var e,o=le(t),r=nt(t),n=(e=t.ownerDocument)==null?void 0:e.body,a=ie(o.scrollWidth,o.clientWidth,n?n.scrollWidth:0,n?n.clientWidth:0),s=ie(o.scrollHeight,o.clientHeight,n?n.scrollHeight:0,n?n.clientHeight:0),i=-r.scrollLeft+rt(t),c=-r.scrollTop;return ae(n||o).direction==="rtl"&&(i+=ie(o.clientWidth,n?n.clientWidth:0)-a),{width:a,height:s,x:i,y:c}}function Tt(t,e){var o=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(o&&Rt(o)){var r=e;do{if(r&&t.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function Qe(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function Sn(t){var e=me(t);return e.top=e.top+t.clientTop,e.left=e.left+t.clientLeft,e.bottom=e.top+t.clientHeight,e.right=e.left+t.clientWidth,e.width=t.clientWidth,e.height=t.clientHeight,e.x=e.left,e.y=e.top,e}function $t(t,e){return e===It?Qe(kn(t)):W(e)?Sn(e):Qe(On(le(t)))}function Pn(t){var e=ye(Ve(t)),o=["absolute","fixed"].indexOf(ae(t).position)>=0,r=o&&W(t)?Se(t):t;return $e(r)?e.filter(function(n){return $e(n)&&Tt(n,r)&&Z(n)!=="body"}):[]}function Dn(t,e,o){var r=e==="clippingParents"?Pn(t):[].concat(e),n=[].concat(r,[o]),a=n[0],s=n.reduce(function(i,c){var p=$t(t,c);return i.top=ie(p.top,i.top),i.right=ke(p.right,i.right),i.bottom=ke(p.bottom,i.bottom),i.left=ie(p.left,i.left),i},$t(t,a));return s.width=s.right-s.left,s.height=s.bottom-s.top,s.x=s.left,s.y=s.top,s}function he(t){return t.split("-")[1]}function lt(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function jt(t){var e=t.reference,o=t.element,r=t.placement,n=r?Q(r):null,a=r?he(r):null,s=e.x+e.width/2-o.width/2,i=e.y+e.height/2-o.height/2,c;switch(n){case U:c={x:s,y:e.y-o.height};break;case K:c={x:s,y:e.y+e.height};break;case X:c={x:e.x+e.width,y:i};break;case F:c={x:e.x-o.width,y:i};break;default:c={x:e.x,y:e.y}}var p=n?lt(n):null;if(p!=null){var d=p==="y"?"height":"width";switch(a){case ve:c[p]=c[p]-(e[d]/2-o[d]/2);break;case Ce:c[p]=c[p]+(e[d]/2-o[d]/2);break}}return c}function Ht(){return{top:0,right:0,bottom:0,left:0}}function Nt(t){return Object.assign({},Ht(),t)}function Vt(t,e){return e.reduce(function(o,r){return o[r]=t,o},{})}function ct(t,e){e===void 0&&(e={});var o=e,r=o.placement,n=r===void 0?t.placement:r,a=o.boundary,s=a===void 0?cn:a,i=o.rootBoundary,c=i===void 0?It:i,p=o.elementContext,d=p===void 0?_e:p,_=o.altBoundary,k=_===void 0?!1:_,v=o.padding,g=v===void 0?0:v,m=Nt(typeof g!="number"?g:Vt(g,Pe)),h=d===_e?dn:_e,w=t.rects.popper,y=t.elements[k?h:d],x=Dn($e(y)?y:y.contextElement||le(t.elements.popper),s,c),u=me(t.elements.reference),O=jt({reference:u,element:w,strategy:"absolute",placement:n}),b=Qe(Object.assign({},w,O)),$=d===_e?b:u,E={top:x.top-$.top+m.top,bottom:$.bottom-x.bottom+m.bottom,left:x.left-$.left+m.left,right:$.right-x.right+m.right},D=t.modifiersData.offset;if(d===_e&&D){var j=D[n];Object.keys(E).forEach(function(H){var ee=[X,K].indexOf(H)>=0?1:-1,L=[U,K].indexOf(H)>=0?"y":"x";E[H]+=j[L]*ee})}return E}var Ct={placement:"bottom",modifiers:[],strategy:"absolute"};function kt(){for(var t=arguments.length,e=new Array(t),o=0;o<t;o++)e[o]=arguments[o];return!e.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function En(t){t===void 0&&(t={});var e=t,o=e.defaultModifiers,r=o===void 0?[]:o,n=e.defaultOptions,a=n===void 0?Ct:n;return function(i,c,p){p===void 0&&(p=a);var d={placement:"bottom",orderedModifiers:[],options:Object.assign({},Ct,a),modifiersData:{},elements:{reference:i,popper:c},attributes:{},styles:{}},_=[],k=!1,v={state:d,setOptions:function(w){var y=typeof w=="function"?w(d.options):w;m(),d.options=Object.assign({},a,d.options,y),d.scrollParents={reference:$e(i)?ye(i):i.contextElement?ye(i.contextElement):[],popper:ye(c)};var x=xn(Cn([].concat(r,d.options.modifiers)));return d.orderedModifiers=x.filter(function(u){return u.enabled}),g(),v.update()},forceUpdate:function(){if(!k){var w=d.elements,y=w.reference,x=w.popper;if(!!kt(y,x)){d.rects={reference:an(y,Se(x),d.options.strategy==="fixed"),popper:it(x)},d.reset=!1,d.placement=d.options.placement,d.orderedModifiers.forEach(function(j){return d.modifiersData[j.name]=Object.assign({},j.data)});for(var u=0;u<d.orderedModifiers.length;u++){if(d.reset===!0){d.reset=!1,u=-1;continue}var O=d.orderedModifiers[u],b=O.fn,$=O.options,E=$===void 0?{}:$,D=O.name;typeof b=="function"&&(d=b({state:d,options:E,name:D,instance:v})||d)}}}},update:$n(function(){return new Promise(function(h){v.forceUpdate(),h(d)})}),destroy:function(){m(),k=!0}};if(!kt(i,c))return v;v.setOptions(p).then(function(h){!k&&p.onFirstUpdate&&p.onFirstUpdate(h)});function g(){d.orderedModifiers.forEach(function(h){var w=h.name,y=h.options,x=y===void 0?{}:y,u=h.effect;if(typeof u=="function"){var O=u({state:d,name:w,instance:v,options:x}),b=function(){};_.push(O||b)}})}function m(){_.forEach(function(h){return h()}),_=[]}return v}}var Me={passive:!0};function Ln(t){var e=t.state,o=t.instance,r=t.options,n=r.scroll,a=n===void 0?!0:n,s=r.resize,i=s===void 0?!0:s,c=Y(e.elements.popper),p=[].concat(e.scrollParents.reference,e.scrollParents.popper);return a&&p.forEach(function(d){d.addEventListener("scroll",o.update,Me)}),i&&c.addEventListener("resize",o.update,Me),function(){a&&p.forEach(function(d){d.removeEventListener("scroll",o.update,Me)}),i&&c.removeEventListener("resize",o.update,Me)}}var An={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:Ln,data:{}};function Mn(t){var e=t.state,o=t.name;e.modifiersData[o]=jt({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}var Rn={name:"popperOffsets",enabled:!0,phase:"read",fn:Mn,data:{}},Bn={top:"auto",right:"auto",bottom:"auto",left:"auto"};function In(t){var e=t.x,o=t.y,r=window,n=r.devicePixelRatio||1;return{x:Ae(Ae(e*n)/n)||0,y:Ae(Ae(o*n)/n)||0}}function Ot(t){var e,o=t.popper,r=t.popperRect,n=t.placement,a=t.variation,s=t.offsets,i=t.position,c=t.gpuAcceleration,p=t.adaptive,d=t.roundOffsets,_=d===!0?In(s):typeof d=="function"?d(s):s,k=_.x,v=k===void 0?0:k,g=_.y,m=g===void 0?0:g,h=s.hasOwnProperty("x"),w=s.hasOwnProperty("y"),y=F,x=U,u=window;if(p){var O=Se(o),b="clientHeight",$="clientWidth";O===Y(o)&&(O=le(o),ae(O).position!=="static"&&i==="absolute"&&(b="scrollHeight",$="scrollWidth")),O=O,(n===U||(n===F||n===X)&&a===Ce)&&(x=K,m-=O[b]-r.height,m*=c?1:-1),(n===F||(n===U||n===K)&&a===Ce)&&(y=X,v-=O[$]-r.width,v*=c?1:-1)}var E=Object.assign({position:i},p&&Bn);if(c){var D;return Object.assign({},E,(D={},D[x]=w?"0":"",D[y]=h?"0":"",D.transform=(u.devicePixelRatio||1)<=1?"translate("+v+"px, "+m+"px)":"translate3d("+v+"px, "+m+"px, 0)",D))}return Object.assign({},E,(e={},e[x]=w?m+"px":"",e[y]=h?v+"px":"",e.transform="",e))}function zn(t){var e=t.state,o=t.options,r=o.gpuAcceleration,n=r===void 0?!0:r,a=o.adaptive,s=a===void 0?!0:a,i=o.roundOffsets,c=i===void 0?!0:i,p={placement:Q(e.placement),variation:he(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:n};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,Ot(Object.assign({},p,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:s,roundOffsets:c})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,Ot(Object.assign({},p,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:c})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}var Tn={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:zn,data:{}};function jn(t){var e=t.state;Object.keys(e.elements).forEach(function(o){var r=e.styles[o]||{},n=e.attributes[o]||{},a=e.elements[o];!W(a)||!Z(a)||(Object.assign(a.style,r),Object.keys(n).forEach(function(s){var i=n[s];i===!1?a.removeAttribute(s):a.setAttribute(s,i===!0?"":i)}))})}function Hn(t){var e=t.state,o={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,o.popper),e.styles=o,e.elements.arrow&&Object.assign(e.elements.arrow.style,o.arrow),function(){Object.keys(e.elements).forEach(function(r){var n=e.elements[r],a=e.attributes[r]||{},s=Object.keys(e.styles.hasOwnProperty(r)?e.styles[r]:o[r]),i=s.reduce(function(c,p){return c[p]="",c},{});!W(n)||!Z(n)||(Object.assign(n.style,i),Object.keys(a).forEach(function(c){n.removeAttribute(c)}))})}}var Nn={name:"applyStyles",enabled:!0,phase:"write",fn:jn,effect:Hn,requires:["computeStyles"]},Vn=[An,Rn,Tn,Nn],Wn=En({defaultModifiers:Vn});function Un(t){return t==="x"?"y":"x"}function Re(t,e,o){return ie(t,ke(e,o))}function Fn(t){var e=t.state,o=t.options,r=t.name,n=o.mainAxis,a=n===void 0?!0:n,s=o.altAxis,i=s===void 0?!1:s,c=o.boundary,p=o.rootBoundary,d=o.altBoundary,_=o.padding,k=o.tether,v=k===void 0?!0:k,g=o.tetherOffset,m=g===void 0?0:g,h=ct(e,{boundary:c,rootBoundary:p,padding:_,altBoundary:d}),w=Q(e.placement),y=he(e.placement),x=!y,u=lt(w),O=Un(u),b=e.modifiersData.popperOffsets,$=e.rects.reference,E=e.rects.popper,D=typeof m=="function"?m(Object.assign({},e.rects,{placement:e.placement})):m,j={x:0,y:0};if(!!b){if(a||i){var H=u==="y"?U:F,ee=u==="y"?K:X,L=u==="y"?"height":"width",te=b[u],oe=b[u]+h[H],V=b[u]-h[ee],ne=v?-E[L]/2:0,B=y===ve?$[L]:E[L],I=y===ve?-E[L]:-$[L],M=e.elements.arrow,re=v&&M?it(M):{width:0,height:0},pe=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:Ht(),De=pe[H],ce=pe[ee],J=Re(0,$[L],re[L]),Ee=x?$[L]/2-ne-J-De-D:B-J-De-D,Fe=x?-$[L]/2+ne+J+ce+D:I+J+ce+D,ue=e.elements.arrow&&Se(e.elements.arrow),qe=ue?u==="y"?ue.clientTop||0:ue.clientLeft||0:0,pt=e.modifiersData.offset?e.modifiersData.offset[e.placement][u]:0,ut=b[u]+Ee-pt-qe,ft=b[u]+Fe-pt;if(a){var mt=Re(v?ke(oe,ut):oe,te,v?ie(V,ft):V);b[u]=mt,j[u]=mt-te}if(i){var Xt=u==="x"?U:F,Yt=u==="x"?K:X,Le=b[O],vt=Le+h[Xt],ht=Le-h[Yt],gt=Re(v?ke(vt,ut):vt,Le,v?ie(ht,ft):ht);b[O]=gt,j[O]=gt-Le}}e.modifiersData[r]=j}}var qn={name:"preventOverflow",enabled:!0,phase:"main",fn:Fn,requiresIfExists:["offset"]},Gn={left:"right",right:"left",bottom:"top",top:"bottom"};function Be(t){return t.replace(/left|right|bottom|top/g,function(e){return Gn[e]})}var Kn={start:"end",end:"start"};function St(t){return t.replace(/start|end/g,function(e){return Kn[e]})}function Xn(t,e){e===void 0&&(e={});var o=e,r=o.placement,n=o.boundary,a=o.rootBoundary,s=o.padding,i=o.flipVariations,c=o.allowedAutoPlacements,p=c===void 0?zt:c,d=he(r),_=d?i?xt:xt.filter(function(g){return he(g)===d}):Pe,k=_.filter(function(g){return p.indexOf(g)>=0});k.length===0&&(k=_);var v=k.reduce(function(g,m){return g[m]=ct(t,{placement:m,boundary:n,rootBoundary:a,padding:s})[Q(m)],g},{});return Object.keys(v).sort(function(g,m){return v[g]-v[m]})}function Yn(t){if(Q(t)===st)return[];var e=Be(t);return[St(t),e,St(e)]}function Jn(t){var e=t.state,o=t.options,r=t.name;if(!e.modifiersData[r]._skip){for(var n=o.mainAxis,a=n===void 0?!0:n,s=o.altAxis,i=s===void 0?!0:s,c=o.fallbackPlacements,p=o.padding,d=o.boundary,_=o.rootBoundary,k=o.altBoundary,v=o.flipVariations,g=v===void 0?!0:v,m=o.allowedAutoPlacements,h=e.options.placement,w=Q(h),y=w===h,x=c||(y||!g?[Be(h)]:Yn(h)),u=[h].concat(x).reduce(function(ce,J){return ce.concat(Q(J)===st?Xn(e,{placement:J,boundary:d,rootBoundary:_,padding:p,flipVariations:g,allowedAutoPlacements:m}):J)},[]),O=e.rects.reference,b=e.rects.popper,$=new Map,E=!0,D=u[0],j=0;j<u.length;j++){var H=u[j],ee=Q(H),L=he(H)===ve,te=[U,K].indexOf(ee)>=0,oe=te?"width":"height",V=ct(e,{placement:H,boundary:d,rootBoundary:_,altBoundary:k,padding:p}),ne=te?L?X:F:L?K:U;O[oe]>b[oe]&&(ne=Be(ne));var B=Be(ne),I=[];if(a&&I.push(V[ee]<=0),i&&I.push(V[ne]<=0,V[B]<=0),I.every(function(ce){return ce})){D=H,E=!1;break}$.set(H,I)}if(E)for(var M=g?3:1,re=function(J){var Ee=u.find(function(Fe){var ue=$.get(Fe);if(ue)return ue.slice(0,J).every(function(qe){return qe})});if(Ee)return D=Ee,"break"},pe=M;pe>0;pe--){var De=re(pe);if(De==="break")break}e.placement!==D&&(e.modifiersData[r]._skip=!0,e.placement=D,e.reset=!0)}}var Qn={name:"flip",enabled:!0,phase:"main",fn:Jn,requiresIfExists:["offset"],data:{_skip:!1}};function Zn(t,e,o){var r=Q(t),n=[F,U].indexOf(r)>=0?-1:1,a=typeof o=="function"?o(Object.assign({},e,{placement:t})):o,s=a[0],i=a[1];return s=s||0,i=(i||0)*n,[F,X].indexOf(r)>=0?{x:i,y:s}:{x:s,y:i}}function er(t){var e=t.state,o=t.options,r=t.name,n=o.offset,a=n===void 0?[0,0]:n,s=zt.reduce(function(d,_){return d[_]=Zn(_,e.rects,a),d},{}),i=s[e.placement],c=i.x,p=i.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=c,e.modifiersData.popperOffsets.y+=p),e.modifiersData[r]=s}var tr={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:er},or=function(e,o){return e=typeof e=="function"?e(Object.assign({},o.rects,{placement:o.placement})):e,Nt(typeof e!="number"?e:Vt(e,Pe))};function nr(t){var e,o=t.state,r=t.name,n=t.options,a=o.elements.arrow,s=o.modifiersData.popperOffsets,i=Q(o.placement),c=lt(i),p=[F,X].indexOf(i)>=0,d=p?"height":"width";if(!(!a||!s)){var _=or(n.padding,o),k=it(a),v=c==="y"?U:F,g=c==="y"?K:X,m=o.rects.reference[d]+o.rects.reference[c]-s[c]-o.rects.popper[d],h=s[c]-o.rects.reference[c],w=Se(a),y=w?c==="y"?w.clientHeight||0:w.clientWidth||0:0,x=m/2-h/2,u=_[v],O=y-k[d]-_[g],b=y/2-k[d]/2+x,$=Re(u,b,O),E=c;o.modifiersData[r]=(e={},e[E]=$,e.centerOffset=$-b,e)}}function rr(t){var e=t.state,o=t.options,r=o.element,n=r===void 0?"[data-popper-arrow]":r;n!=null&&(typeof n=="string"&&(n=e.elements.popper.querySelector(n),!n)||!Tt(e.elements.popper,n)||(e.elements.arrow=n))}var ar={name:"arrow",enabled:!0,phase:"main",fn:nr,effect:rr,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};const Ye=t=>parseInt(t,10);function ir({arrowPadding:t,emit:e,locked:o,offsetDistance:r,offsetSkid:n,placement:a,popperNode:s,triggerNode:i}){const c=co({isOpen:!1,popperInstance:null}),p=m=>{var h;(h=c.popperInstance)===null||h===void 0||h.setOptions(w=>Ke(Ge({},w),{modifiers:[...w.modifiers,{name:"eventListeners",enabled:m}]}))},d=()=>p(!0),_=()=>p(!1),k=()=>{!c.isOpen||(c.isOpen=!1,e("close:popper"))},v=()=>{c.isOpen||(c.isOpen=!0,e("open:popper"))};xe([()=>c.isOpen,a],async([m])=>{m?(await g(),d()):_()});const g=async()=>{await po(),c.popperInstance=Wn(i.value,s.value,{placement:a.value,modifiers:[qn,Qn,{name:"flip",enabled:!o.value},ar,{name:"arrow",options:{padding:Ye(t.value)}},tr,{name:"offset",options:{offset:[Ye(n.value),Ye(r.value)]}}]}),c.popperInstance.update()};return ot(()=>{var m;(m=c.popperInstance)===null||m===void 0||m.destroy()}),Ke(Ge({},Dt(c)),{open:v,close:k})}const sr={id:"arrow","data-popper-arrow":""};function lr(t,e){return f(),C("div",sr)}function Wt(t,e){e===void 0&&(e={});var o=e.insertAt;if(!(!t||typeof document=="undefined")){var r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",o==="top"&&r.firstChild?r.insertBefore(n,r.firstChild):r.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}}var cr=`
#arrow[data-v-20b7fd4a],
  #arrow[data-v-20b7fd4a]::before {
    transition: background 250ms ease-in-out;
    position: absolute;
    width: calc(10px - var(--popper-theme-border-width, 0px));
    height: calc(10px - var(--popper-theme-border-width, 0px));
    box-sizing: border-box;
    background: var(--popper-theme-background-color);
}
#arrow[data-v-20b7fd4a] {
    visibility: hidden;
}
#arrow[data-v-20b7fd4a]::before {
    visibility: visible;
    content: "";
    transform: rotate(45deg);
}

  /* Top arrow */
.popper[data-popper-placement^="top"] > #arrow[data-v-20b7fd4a] {
    bottom: -5px;
}
.popper[data-popper-placement^="top"] > #arrow[data-v-20b7fd4a]::before {
    border-right: var(--popper-theme-border-width)
      var(--popper-theme-border-style) var(--popper-theme-border-color);
    border-bottom: var(--popper-theme-border-width)
      var(--popper-theme-border-style) var(--popper-theme-border-color);
}

  /* Bottom arrow */
.popper[data-popper-placement^="bottom"] > #arrow[data-v-20b7fd4a] {
    top: -5px;
}
.popper[data-popper-placement^="bottom"] > #arrow[data-v-20b7fd4a]::before {
    border-left: var(--popper-theme-border-width)
      var(--popper-theme-border-style) var(--popper-theme-border-color);
    border-top: var(--popper-theme-border-width)
      var(--popper-theme-border-style) var(--popper-theme-border-color);
}

  /* Left arrow */
.popper[data-popper-placement^="left"] > #arrow[data-v-20b7fd4a] {
    right: -5px;
}
.popper[data-popper-placement^="left"] > #arrow[data-v-20b7fd4a]::before {
    border-right: var(--popper-theme-border-width)
      var(--popper-theme-border-style) var(--popper-theme-border-color);
    border-top: var(--popper-theme-border-width)
      var(--popper-theme-border-style) var(--popper-theme-border-color);
}

  /* Right arrow */
.popper[data-popper-placement^="right"] > #arrow[data-v-20b7fd4a] {
    left: -5px;
}
`;Wt(cr);const dt={};dt.render=lr;dt.__scopeId="data-v-20b7fd4a";var dr=dt;const pr=["onKeyup"];var Ut={props:{placement:{type:String,default:"bottom",validator:function(t){return["auto","auto-start","auto-end","top","top-start","top-end","bottom","bottom-start","bottom-end","right","right-start","right-end","left","left-start","left-end"].includes(t)}},disableClickAway:{type:Boolean,default:!1},offsetSkid:{type:String,default:"0"},offsetDistance:{type:String,default:"12"},hover:{type:Boolean,default:!1},show:{type:Boolean,default:null},disabled:{type:Boolean,default:!1},openDelay:{type:[Number,String],default:0},closeDelay:{type:[Number,String],default:0},zIndex:{type:[Number,String],default:9999},arrow:{type:Boolean,default:!1},arrowPadding:{type:String,default:"0"},interactive:{type:Boolean,default:!0},locked:{type:Boolean,default:!1},content:{type:String,default:null}},emits:["open:popper","close:popper"],setup(t,{emit:e}){const o=t;no(B=>({c81fc0a4:t.zIndex}));const r=ro(),n=we(null),a=we(null),s=we(null),i=we(!1);tt(()=>{const B=r.default();if(B&&B.length>1)return console.error(`[Popper]: The <Popper> component expects only one child element at its root. You passed ${B.length} child nodes.`)});const{arrowPadding:c,closeDelay:p,content:d,disableClickAway:_,disabled:k,interactive:v,locked:g,offsetDistance:m,offsetSkid:h,openDelay:w,placement:y,show:x}=Dt(o),{isOpen:u,open:O,close:b}=ir({arrowPadding:c,emit:e,locked:g,offsetDistance:m,offsetSkid:h,placement:y,popperNode:a,triggerNode:s}),{hasContent:$}=tn(r,a,d),E=be(()=>x.value!==null),D=be(()=>k.value||!$.value),j=be(()=>u.value&&!D.value),H=be(()=>!_.value&&!E.value),ee=be(()=>v.value?`border: ${m.value}px solid transparent; margin: -${m.value}px;`:null),L=Xe.debounce(O,w.value),te=Xe.debounce(b,p.value),oe=async()=>{D.value||E.value||(te.clear(),L())},V=async()=>{E.value||(L.clear(),te())},ne=()=>{u.value?V():oe()};return xe([$,k],([B,I])=>{u.value&&(!B||I)&&b()}),xe(u,B=>{B?i.value=!0:Xe.debounce(()=>{i.value=!1},200)}),wt(()=>{E.value&&(x.value?L():te())}),wt(()=>{H.value&&en(n,V)}),(B,I)=>(f(),C("div",{class:"inline-block",style:Et(de(ee)),onMouseleave:I[2]||(I[2]=M=>t.hover&&V()),ref:(M,re)=>{re.popperContainerNode=M,n.value=M}},[l("div",{ref:(M,re)=>{re.triggerNode=M,s.value=M},onMouseover:I[0]||(I[0]=M=>t.hover&&oe()),onClick:ne,onFocus:oe,onKeyup:ao(V,["esc"])},[fe(B.$slots,"default")],40,pr),z(lo,{name:"fade"},{default:S(()=>[io(l("div",{onClick:I[1]||(I[1]=M=>!de(v)&&V()),class:"popper",ref:(M,re)=>{re.popperNode=M,a.value=M}},[fe(B.$slots,"content",{close:de(b),isOpen:i.value},()=>[P(A(de(d)),1)]),t.arrow?(f(),T(dr,{key:0})):R("",!0)],512),[[so,de(j)]])]),_:3})],36))}},ur=`
.inline-block[data-v-5784ed69] {
    display: inline-block;
}
.popper[data-v-5784ed69] {
    transition: background 250ms ease-in-out;
    background: var(--popper-theme-background-color);
    padding: var(--popper-theme-padding);
    color: var(--popper-theme-text-color);
    border-radius: var(--popper-theme-border-radius);
    border-width: var(--popper-theme-border-width);
    border-style: var(--popper-theme-border-style);
    border-color: var(--popper-theme-border-color);
    box-shadow: var(--popper-theme-box-shadow);
    z-index: var(--c81fc0a4);
}
.popper[data-v-5784ed69]:hover,
  .popper:hover > #arrow[data-v-5784ed69]::before {
    background: var(--popper-theme-background-color-hover);
}
.inline-block[data-v-5784ed69] {
    display: inline-block;
}
.fade-enter-active[data-v-5784ed69],
  .fade-leave-active[data-v-5784ed69] {
    transition: opacity 0.2s ease;
}
.fade-enter-from[data-v-5784ed69],
  .fade-leave-to[data-v-5784ed69] {
    opacity: 0;
}
`;Wt(ur);Ut.__scopeId="data-v-5784ed69";var Ft=(()=>{const t=Ut;return t.install=e=>{e.component("Popper",t)},t})();const fr={components:{ImagePreloader:ge,Popper:Ft},props:{pet:Object}},mr={class:"pet-card-popper m-3"},vr={class:"row g-2"},hr={class:"col-auto"},gr={class:"col"},br={class:"mb-0"},_r={class:"mb-0"},wr=P(" Ver m\xE1s fotos ");function yr(t,e,o,r,n,a){const s=Ie("ImagePreloader"),i=je,c=Ie("Popper");return f(),T(c,{arrow:"",placement:"top",class:"popper-activator"},{content:S(()=>[l("div",mr,[l("div",vr,[l("div",hr,[z(i,{to:"/pets/"+o.pet.slug},{default:S(()=>[z(s,{option:"url_lg",image:o.pet.image,aspect:1,class:"shadow-sm rounded-5 pet-icon-popper"},null,8,["image"])]),_:1},8,["to"])]),l("div",gr,[z(i,{to:"/pets/"+o.pet.slug,class:"text-decoration-none"},{default:S(()=>[l("h3",br,[l("strong",null,A(o.pet.name),1)])]),_:1},8,["to"]),l("h6",_r,A(o.pet.nickname),1)])]),z(i,{to:"/pets/"+o.pet.slug,class:"btn btn-primary mt-2"},{default:S(()=>[wr]),_:1},8,["to"])])]),default:S(()=>[z(s,{option:"url_lg",image:o.pet.image,aspect:1,class:"shadow-sm pet-icon"},null,8,["image"])]),_:1})}var xr=N(fr,[["render",yr]]);const $r={components:{PetIconItem:xr},setup(){return{mainStore:q()}},props:["pets","pets_count"]},Cr={class:"row"},kr=l("div",{class:"col"},null,-1),Or={class:"col-auto position-relative"},Sr=l("small",{class:"text-muted me-2"},"Gatos que aparecen en esta publicaci\xF3n",-1);function Pr(t,e,o,r,n,a){const s=Ie("PetIconItem");return f(),C("div",Cr,[kr,l("div",Or,[Sr,(f(!0),C(Oe,null,Ze(o.pets,i=>(f(),T(s,{key:i.id,pet:i},null,8,["pet"]))),128))])])}var ri=N($r,[["render",Pr]]);const Dr={components:{CustomModal:se,ImagePreloader:ge},setup(){return{mainStore:q()}},data(){return{reactions:[],reactionsPaginator:null,loadingMore:!0}},props:["url"],emits:["close"],mounted(){this.getReactions(this.url),this.addScrollListener()},beforeUnmount(){this.removeScrollListener()},methods:{addScrollListener(){this.$refs.scroller.addEventListener("scroll",this.onScroll)},removeScrollListener(){this.$refs.scroller.removeEventListener("scroll",this.onScroll)},onScroll(){this.$refs.scroller.scrollHeight-(this.$refs.scroller.clientHeight+this.$refs.scroller.scrollTop)<200&&this.loadMore()},loadMore(){if(!this.loadingMore){if(this.loadingMore=!0,!this.reactionsPaginator.next){console.log("ya no hay mas, desactivar listener"),this.removeScrollListener(),this.loadingMore=!1;return}console.log("cargando mas..."),this.getReactions(this.reactionsPaginator.next)}},getReactions(t){G.get(`${t}`).then(e=>{this.reactionsPaginator=e.data.links,this.reactions=this.reactions.concat(e.data.data),this.loadingMore=!1})}}},Er=P(" Reacciones "),Lr={style:{"max-height":"80vh","overflow-y":"auto"},class:"custom-scroll",ref:"scroller"};function Ar(t,e,o,r,n,a){const s=Ie("ImagePreloader"),i=je,c=se;return f(),T(c,{"hide-buttons":!0,onCancel:e[0]||(e[0]=p=>t.$emit("close"))},{title:S(()=>[Er]),default:S(()=>[l("div",Lr,[(f(!0),C(Oe,null,Ze(n.reactions,p=>(f(),C("div",{key:p.id,class:"my-1"},[z(i,{to:p.user.url,role:"button"},{default:S(()=>[z(s,{image:p.user.image,class:"shadow rounded-5",aspect:1,style:{width:"40px"}},null,8,["image"])]),_:2},1032,["to"]),z(i,{to:p.user.url,class:"text-decoration-none text-dark ms-2",role:"button"},{default:S(()=>[P(A(p.user.name),1)]),_:2},1032,["to"])]))),128))],512)]),_:1})}var We=N(Dr,[["render",Ar]]);const Mr={components:{ShowReactionsDialog:We},setup(){return{mainStore:q()}},data(){return{reactioning:!1,showReactions:!1}},props:["myReaction","id","reactionsCount","commentsCount"],emits:["react"],methods:{react(){this.reactioning||(this.reactioning=!0,G.post(`${this.mainStore.backendUrl}/api/posts/${this.id}/reactions`,null,{withCredentials:!0}).then(t=>{this.$emit("react",t.data)}).finally(()=>{this.reactioning=!1}))}}},Rr={class:"row g-0 py-2"},Br={class:"text-muted"},Ir={class:"col text-center"},zr=l("hr",{class:"my-0",style:{opacity:"0.1"}},null,-1),Tr={class:"row text-secondary g-0 fw-bold",role:"button",style:{"user-select":"none","font-size":"14px"}},jr={class:"col"},Hr={key:0,xmlns:"http://www.w3.org/2000/svg",width:"30",height:"20",fill:"currentColor",viewBox:"0 0 16 16"},Nr=l("path",{d:"M8 1.314C12.438-3.248 23.534 4.735 8 15-7.534 4.736 3.562-3.248 8 1.314z"},null,-1),Vr=[Nr],Wr={key:1,xmlns:"http://www.w3.org/2000/svg",width:"30",height:"20",fill:"currentColor",viewBox:"0 0 16 16"},Ur=l("path",{d:"m8 2.748-.717-.737C5.6.281 2.514.878 1.4 3.053c-.523 1.023-.641 2.5.314 4.385.92 1.815 2.834 3.989 6.286 6.357 3.452-2.368 5.365-4.542 6.286-6.357.955-1.886.838-3.362.314-4.385C13.486.878 10.4.28 8.717 2.01L8 2.748zM8 15C-7.333 4.868 3.279-3.04 7.824 1.143c.06.055.119.112.176.171a3.12 3.12 0 0 1 .176-.17C12.72-3.042 23.333 4.867 8 15z"},null,-1),Fr=[Ur],qr=P(" Me encanta "),Gr=l("div",{class:"col text-center py-3"},[l("svg",{xmlns:"http://www.w3.org/2000/svg",width:"30",height:"20",fill:"currentColor",viewBox:"0 0 16 16"},[l("path",{d:"M14 1a1 1 0 0 1 1 1v8a1 1 0 0 1-1 1h-2.5a2 2 0 0 0-1.6.8L8 14.333 6.1 11.8a2 2 0 0 0-1.6-.8H2a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1h12zM2 0a2 2 0 0 0-2 2v8a2 2 0 0 0 2 2h2.5a1 1 0 0 1 .8.4l1.9 2.533a1 1 0 0 0 1.6 0l1.9-2.533a1 1 0 0 1 .8-.4H14a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2z"})]),P(" Comentar ")],-1);function Kr(t,e,o,r,n,a){const s=je,i=We;return f(),C(Oe,null,[l("div",Rr,[l("div",{class:"col text-center",role:"button",onClick:e[0]||(e[0]=c=>n.showReactions=!0)},[l("span",Br,A(o.reactionsCount)+" Reacciones",1)]),l("div",Ir,[z(s,{to:"/posts/"+o.id,class:"text-muted text-decoration-none",role:"button"},{default:S(()=>[P(A(o.commentsCount)+" Comentarios ",1)]),_:1},8,["to"])])]),zr,l("div",Tr,[l("div",jr,[l("div",{class:Lt(["text-center py-3 guide-3",{"text-primary":o.myReaction}]),onClick:e[1]||(e[1]=(...c)=>a.react&&a.react(...c))},[o.myReaction?(f(),C("svg",Hr,Vr)):(f(),C("svg",Wr,Fr)),qr],2)]),Gr,n.showReactions?(f(),T(i,{key:0,onClose:e[2]||(e[2]=c=>n.showReactions=!1),url:r.mainStore.backendUrl+"/api/posts/"+o.id+"/reactions"},null,8,["url"])):R("",!0)])],64)}var ai=N(Mr,[["render",Kr]]);const Xr={components:{CustomModal:se},setup(){return{mainStore:q()}},props:["comment"],emits:["close","commentDeleted","contadorActualizado"],methods:{deleteComment(){G.delete(`${this.mainStore.backendUrl}/api/comments/${this.comment.id}`).then(t=>{this.$emit("contadorActualizado",t.data.comments_count)}).then(()=>{this.$emit("commentDeleted",this.comment.id)}).then(()=>{this.$emit("close")})}}},Yr=P(" Eliminar comentario "),Jr=l("p",null,"\xBFDesea eliminar este comentario?",-1),Qr=P(" Cancelar "),Zr=P(" Eliminar ");function ea(t,e,o,r,n,a){const s=se;return f(),T(s,{onCancel:e[0]||(e[0]=i=>t.$emit("close")),onOk:a.deleteComment},{title:S(()=>[Yr]),cancel:S(()=>[Qr]),ok:S(()=>[Zr]),default:S(()=>[Jr]),_:1},8,["onOk"])}var qt=N(Xr,[["render",ea]]);const ta={components:{CustomModal:se},setup(){return{mainStore:q()}},props:["comment"],emits:["close","commentEdited"],methods:{editComment(){const t=new DOMParser().parseFromString(this.$refs.textarea.innerHTML.replaceAll("<br>",`
`).replaceAll("<div>",`
<div>`),"text/html").documentElement.textContent;G.patch(`${this.mainStore.backendUrl}/api/comments/${this.comment.id}`,{description:t}).then(()=>{this.$emit("commentEdited",{id:this.comment.id,description:t})}).then(()=>{this.$emit("close")})}}},oa=P(" Editar comentario "),na={class:"contenedorTextarea mb-3"},ra=P(" Cancelar "),aa=P(" Guardar ");function ia(t,e,o,r,n,a){const s=se;return f(),T(s,{onCancel:e[1]||(e[1]=i=>t.$emit("close")),onOk:a.editComment},{title:S(()=>[oa]),cancel:S(()=>[ra]),ok:S(()=>[aa]),default:S(()=>[l("div",na,[l("span",{class:"textarea text-break",contenteditable:"",ref:"textarea",onKeydown:e[0]||(e[0]=(...i)=>t.onKeyDown&&t.onKeyDown(...i))},A(o.comment.description),545)])]),_:1},8,["onOk"])}var Gt=N(ta,[["render",ia],["__scopeId","data-v-31c2e609"]]);const sa={components:{ImagePreloader:ge,DeleteCommentDialog:qt,EditCommentDialog:Gt,ShowReactionsDialog:We},data(){return{miLike:!1,contador:0,showLikes:!1,showDeleteCommentDialog:!1,showEditCommentDialog:!1,showReactions:!1}},props:["comentario","postId","hideOptions"],emits:["commentDeleted","commentEdited","contadorActualizado"],mounted(){this.miLike=this.comentario.my_reaction,this.contador=this.comentario.reactions_count},methods:{like(){G.post(`${this.mainStore.backendUrl}/api/comments/${this.comentario.id}/reactions`).then(t=>{this.miLike=t.data.own_reaction,this.contador=t.data.reactions_count}).catch(t=>{console.log(t.data)})},contadorActualizado(t){this.$emit("contadorActualizado",t)},commentDeleted(t){this.$emit("commentDeleted",t)},commentEdited(t){this.$emit("commentEdited",t)}}},la=Object.assign(sa,{setup(t,{expose:e}){e();const r={mainStore:q(),ImagePreloader:ge,DeleteCommentDialog:qt,EditCommentDialog:Gt,ShowReactionsDialog:We,axios:G,useMainStore:q,t:et,timeAgo:fo};return Object.defineProperty(r,"__isScriptSetup",{enumerable:!1,value:!0}),r}}),Ue=t=>(ze("data-v-fbf3a8ec"),t=t(),Te(),t),ca={class:"py-1"},da={class:"row g-0"},pa={class:"col col-auto py-1"},ua=["href"],fa={class:"col ps-2 pt-1"},ma={class:"text-break",style:{"font-size":"15px"}},va=["href"],ha={class:"fw-bold"},ga={style:{color:"#bbb"}},ba={class:"m-0",style:{color:"#777"}},_a={key:0,class:"position-relative"},wa=["src"],ya=Ue(()=>l("span",{class:"px-1 rounded position-absolute bottom-0 start-0 m-1",style:{"background-color":"rgba(255,255,255,0.4)"}},[l("img",{src:"https://www.gstatic.com/tenor/web/attribution/via_tenor_logo_grey.png",style:{filter:"drop-shadow(1px 1px 2px rgba(255, 255, 255, 1))"},width:"50"})],-1)),xa={class:"mb-1 pt-2 text-muted",style:{"font-size":"13px"}},$a={key:1},Ca={key:3,class:"ms-3"},ka={key:0,class:"col col-auto"},Oa=Ue(()=>l("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",class:"py-3 px-2",style:{width:"32px",color:"#888"},viewBox:"0 0 16 16","data-bs-toggle":"dropdown","aria-expanded":"false"},[l("path",{d:"M3 9.5a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm5 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm5 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3z"})],-1)),Sa={class:"dropdown-menu dropdown-menu-end shadow"},Pa=Ue(()=>l("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16"},[l("path",{d:"M15.502 1.94a.5.5 0 0 1 0 .706L14.459 3.69l-2-2L13.502.646a.5.5 0 0 1 .707 0l1.293 1.293zm-1.75 2.456-2-2L4.939 9.21a.5.5 0 0 0-.121.196l-.805 2.414a.25.25 0 0 0 .316.316l2.414-.805a.5.5 0 0 0 .196-.12l6.813-6.814z"}),l("path",{"fill-rule":"evenodd",d:"M1 13.5A1.5 1.5 0 0 0 2.5 15h11a1.5 1.5 0 0 0 1.5-1.5v-6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-.5.5h-11a.5.5 0 0 1-.5-.5v-11a.5.5 0 0 1 .5-.5H9a.5.5 0 0 0 0-1H2.5A1.5 1.5 0 0 0 1 2.5v11z"})],-1)),Da=Ue(()=>l("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16"},[l("path",{d:"M2.5 1a1 1 0 0 0-1 1v1a1 1 0 0 0 1 1H3v9a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V4h.5a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1H10a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1H2.5zm3 4a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-1 0v-7a.5.5 0 0 1 .5-.5zM8 5a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-1 0v-7A.5.5 0 0 1 8 5zm3 .5v7a.5.5 0 0 1-1 0v-7a.5.5 0 0 1 1 0z"})],-1));function Ea(t,e,o,r,n,a){return f(),C("div",ca,[l("div",da,[l("div",pa,[l("a",{href:o.comentario.user.url},[z(r.ImagePreloader,{image:o.comentario.user.image,aspect:"1",class:"imagen-usuario shadow"},null,8,["image"])],8,ua)]),l("div",fa,[l("span",ma,[l("a",{href:o.comentario.user.url,class:"text-dark text-decoration-none d-block mb-1"},[l("span",ha,A(o.comentario.user.name),1),l("span",ga," @"+A(o.comentario.user.username),1)],8,va),l("p",ba,A(o.comentario.description),1),o.comentario.gif_url?(f(),C("div",_a,[l("img",{src:o.comentario.gif_url,class:"img-fluid shadow-sm",style:{"border-radius":"10px",height:"120px"}},null,8,wa),ya])):R("",!0)]),l("div",xa,[r.mainStore.userLogged?(f(),C("span",{key:0,class:Lt(["fw-bold",{"text-primary":n.miLike}]),role:"button",onClick:e[0]||(e[0]=(...s)=>a.like&&a.like(...s))},A(r.t("like")),3)):R("",!0),r.mainStore.userLogged&&n.contador?(f(),C("span",$a," \xB7")):R("",!0),n.contador?(f(),C("span",{key:2,class:"fw-bold px-1",onClick:e[1]||(e[1]=s=>n.showReactions=!0),role:"button"},A(n.contador),1)):R("",!0),r.mainStore.userLogged||n.contador?(f(),C("span",Ca)):R("",!0),l("span",null,A(r.timeAgo(o.comentario.created_at)),1)])]),!o.hideOptions&&r.mainStore.userLogged&&r.mainStore.userLogged.id==o.comentario.user.id?(f(),C("div",ka,[Oa,l("ul",Sa,[l("li",null,[l("button",{class:"dropdown-item",type:"button",onClick:e[2]||(e[2]=s=>n.showEditCommentDialog=!0)},[Pa,P(" "+A(r.t("editComment")),1)])]),l("li",null,[l("button",{class:"dropdown-item",type:"button",onClick:e[3]||(e[3]=s=>n.showDeleteCommentDialog=!0)},[Da,P(" "+A(r.t("deleteComment")),1)])])])])):R("",!0)]),n.showDeleteCommentDialog?(f(),T(r.DeleteCommentDialog,{key:0,comment:o.comentario,onClose:e[4]||(e[4]=s=>n.showDeleteCommentDialog=!1),onCommentDeleted:a.commentDeleted,onContadorActualizado:a.contadorActualizado},null,8,["comment","onCommentDeleted","onContadorActualizado"])):R("",!0),n.showEditCommentDialog?(f(),T(r.EditCommentDialog,{key:1,comment:o.comentario,onClose:e[5]||(e[5]=s=>n.showEditCommentDialog=!1),onCommentEdited:a.commentEdited},null,8,["comment","onCommentEdited"])):R("",!0),n.showReactions?(f(),T(r.ShowReactionsDialog,{key:2,onClose:e[6]||(e[6]=s=>n.showReactions=!1),url:r.mainStore.backendUrl+"/api/comments/"+o.comentario.id+"/reactions"},null,8,["url"])):R("",!0)])}var ii=N(la,[["render",Ea],["__scopeId","data-v-fbf3a8ec"]]);const La={props:["img","postId"]},Aa={class:"p-1"},Ma=["src"];function Ra(t,e,o,r,n,a){return f(),C("div",Aa,[l("img",{src:o.img.url,ref:"img",class:"w-100",style:Et([{aspectRatio:o.img.dims[0]/o.img.dims[1]},{"border-radius":"5px"}])},null,12,Ma)])}var Ba=N(La,[["render",Ra]]);const Ia={gifs:[],yaCargoElPrimerComponente:!1},za={async setup(t,{expose:e}){e();let o,r,n=Object;n=([o,r]=mo(()=>vo(()=>import("./masonry-9a1ff6d8.mjs").then(function(s){return s.m}),["masonry-9a1ff6d8.mjs","_commonjsHelpers-fe705abc.mjs"])),o=await o,r(),o).default;const a={sharedData:Ia,Masonry:n,GifSearchedComponent:Ba,Popper:Ft,axios:G,t:et};return Object.defineProperty(a,"__isScriptSetup",{enumerable:!1,value:!0}),a}};function Ta(t,e,o,r,n,a){return f(),C("p",null,"gifpiker comp")}var Kt=N(za,[["render",Ta],["__scopeId","data-v-4ce7755c"]]);const ja={components:{GifPickerComponent:Kt,ImagePreloader:ge},data(){return{gifSeleccionado:null,mainStore:q()}},props:["postId"],emits:["commented","contadorActualizado"],methods:{onKeyDown(t){t.keyCode===13&&!t.shiftKey&&(t.preventDefault(),this.enviarComentario())},enviarComentario(){const t=new DOMParser().parseFromString(this.$refs.textarea.innerHTML.replaceAll("<br>",`
`).replaceAll("<div>",`
<div>`),"text/html").documentElement.textContent.trim();!t&&!this.gifSeleccionado||G({method:"post",url:`${this.mainStore.backendUrl}/api/posts/${this.postId}/comments`,data:{description:t,gif_url:this.gifSeleccionado},withCredentials:!0}).then(e=>{this.$emit("commented",{id:e.data.id,description:t,created_at:Math.trunc(Date.now()/1e3),gif_url:this.gifSeleccionado,user:this.mainStore.userLogged}),this.$emit("contadorActualizado",e.data.comments_count),this.$refs.textarea.innerHTML="",this.gifSeleccionado=null}).catch(e=>{console.log(e);const o=Object.keys(e.response.data.errors);o.length>0&&alert(e.response.data.errors[o[0]])})},recibirGif(t){this.gifSeleccionado=t}}},Ha=Object.assign(ja,{setup(t,{expose:e}){e();const r={mainStore:q(),useMainStore:q,GifPickerComponent:Kt,ImagePreloader:ge,axios:G};return Object.defineProperty(r,"__isScriptSetup",{enumerable:!1,value:!0}),r}}),Na=t=>(ze("data-v-a265282e"),t=t(),Te(),t),Va={class:"row g-0 border-top pt-1"},Wa={key:0,class:"col-auto position-relative mx-auto"},Ua=["src"],Fa={key:0,class:"row g-0 pb-2 pt-1"},qa={class:"col col-auto"},Ga={class:"col ms-2"},Ka={class:"row g-0 contenedorTextarea"},Xa={class:"col"},Ya={class:"col col-auto guide-4",style:{color:"#f50"}},Ja=Na(()=>l("path",{d:"M16.6915026,12.4744748 L3.50612381,13.2599618 C3.19218622,13.2599618 3.03521743,13.4170592 3.03521743,13.5741566 L1.15159189,20.0151496 C0.8376543,20.8006365 0.99,21.89 1.77946707,22.52 C2.41,22.99 3.50612381,23.1 4.13399899,22.8429026 L21.714504,14.0454487 C22.6563168,13.5741566 23.1272231,12.6315722 22.9702544,11.6889879 C22.8132856,11.0605983 22.3423792,10.4322088 21.714504,10.118014 L4.13399899,1.16346272 C3.34915502,0.9 2.40734225,1.00636533 1.77946707,1.4776575 C0.994623095,2.10604706 0.8376543,3.0486314 1.15159189,3.99121575 L3.03521743,10.4322088 C3.03521743,10.5893061 3.34915502,10.7464035 3.50612381,10.7464035 L16.6915026,11.5318905 C16.6915026,11.5318905 17.1624089,11.5318905 17.1624089,12.0031827 C17.1624089,12.4744748 16.6915026,12.4744748 16.6915026,12.4744748 Z","fill-rule":"evenodd",stroke:"none"},null,-1)),Qa=[Ja];function Za(t,e,o,r,n,a){var s;return f(),C("div",null,[l("div",Va,[n.gifSeleccionado?(f(),C("div",Wa,[l("img",{src:n.gifSeleccionado,style:{height:"100px","border-radius":"5px"}},null,8,Ua),l("button",{type:"button",class:"btn-close bg-white shadow position-absolute top-0 end-0 m-1 p-2 rounded-circle","aria-label":"Close",onClick:e[0]||(e[0]=i=>n.gifSeleccionado=null)})])):R("",!0)]),r.mainStore.userLogged?(f(),C("div",Fa,[l("div",qa,[z(r.ImagePreloader,{image:(s=r.mainStore.userLogged)==null?void 0:s.image,aspect:"1",class:"imagenUsuario shadow"},null,8,["image"])]),l("div",Ga,[l("div",Ka,[l("div",Xa,[l("span",{class:"textarea text-break",contenteditable:"",ref:"textarea",onKeydown:e[1]||(e[1]=(...i)=>a.onKeyDown&&a.onKeyDown(...i))},null,544)]),l("div",Ya,[z(r.GifPickerComponent,{"post-id":o.postId,onGifSeleccionado:a.recibirGif},null,8,["post-id","onGifSeleccionado"]),(f(),C("svg",{onClick:e[2]||(e[2]=(...i)=>a.enviarComentario&&a.enviarComentario(...i)),class:"pe-2",fill:"currentColor",role:"button",width:"35",height:"35",viewBox:"0 0 24 24"},Qa))])])])])):R("",!0)])}var si=N(Ha,[["render",Za],["__scopeId","data-v-a265282e"]]);export{ii as C,si as N,ni as P,ai as R,ri as a};
