import{_ as u,u as g,a as v,o as r,g as f,b as t,q as k,c,i as $,t as l,F as _,T as S,s as x,v as I,r as m,d as y,h as R,k as b}from"./entry-8983ec98.mjs";import{I as w}from"./ImagePreloader-82228701.mjs";const A={setup(){return{mainStore:g()}},data(){return{punishments:[{time:1,title:"Un d\xEDa"},{time:3,title:"Tres d\xEDas"},{time:7,title:"Una semana"},{time:14,title:"Dos semanas"},{time:30,title:"Un mes"},{time:365,title:"Un a\xF1o"}]}},emits:["close"],inject:["postId"],methods:{sendReport(){const e=new FormData(this.$refs.form);e.append("user_id",this.mainStore.userLogged.id),console.log(e),v.post(`${this.mainStore.backendUrl}/api/admin/punishments`,e).then(o=>{this.close()})},close(){this.$emit("close")}}},P=e=>(x("data-v-56a4be08"),e=e(),I(),e),C={class:"post-modal"},U={class:"card shadow p-4"},L=P(()=>t("h3",null,"Aplicar castigo",-1)),V=["value","id"],B=["for"],D={class:"row"},N={class:"col"},T=P(()=>t("div",{class:"col"},[t("button",{type:"submit",class:"btn btn-primary"}," Aplicar castigo ")],-1));function F(e,o,n,h,a,i){return r(),f(S,{to:"body"},[t("div",C,[t("div",U,[L,t("form",{onSubmit:o[1]||(o[1]=k((...s)=>i.sendReport&&i.sendReport(...s),["prevent"])),ref:"form"},[(r(!0),c(_,null,$(a.punishments,s=>(r(),c("div",{class:"form-check",key:s.time},[t("input",{class:"form-check-input",type:"radio",name:"time",value:s.time,id:"radio"+s.time},null,8,V),t("label",{class:"form-check-label",for:"radio"+s.time},l(s.title),9,B)]))),128)),t("div",D,[t("div",N,[t("button",{type:"button",class:"btn btn-secondary",onClick:o[0]||(o[0]=(...s)=>i.close&&i.close(...s))}," Cancelar ")]),T])],544)])])])}var M=u(A,[["render",F],["__scopeId","data-v-56a4be08"]]);const j={components:{ImagePreloader:w,ApplyPunishment:M},data(){return{applyPunishment:!1}},props:["post"]},q={class:"card"},E={class:"card-body"},z=b(" report\xF3 la publicaci\xF3n de "),G=b(" por "),H=t("hr",null,null,-1),J={class:"row"},K={class:"col-auto"},O={class:"col"},Q=t("button",{class:"btn btn-primary mx-2"}," Ver publicaci\xF3n ",-1),W=t("br",null,null,-1);function X(e,o,n,h,a,i){const s=m("image-preloader"),p=m("ApplyPunishment");return r(),c(_,null,[t("div",q,[t("div",E,[t("strong",null,l(n.post.reports[0].user.name),1),z,t("strong",null,l(n.post.user.name),1),G,t("strong",null,l(n.post.reports[0].report_type.title),1),H,t("div",J,[t("div",K,[y(s,{image:n.post.simple_post.image.url_lg,class:"shadow",style:{width:"150px"},aspect:"1"},null,8,["image"])]),t("div",O,[t("p",null,[t("i",null,'"'+l(n.post.simple_post.description)+'"',1)]),Q,t("button",{class:"btn btn-primary mx-2",onClick:o[0]||(o[0]=d=>a.applyPunishment=!0)}," Aplicar castigo ")])])])]),W,a.applyPunishment===!0?(r(),f(p,{key:0,onClose:o[1]||(o[1]=d=>a.applyPunishment=!1)})):R("",!0)],64)}var Y=u(j,[["render",X]]);const Z={components:{ReportedPostItem:Y},setup(){return{mainStore:g()}},data(){return{postsPaginate:null}},mounted(){v.get(`${this.mainStore.backendUrl}/api/admin/reports/posts`).then(e=>{this.postsPaginate=e.data,console.log(e.data)})}};function tt(e,o,n,h,a,i){var p;const s=m("ReportedPostItem");return r(!0),c(_,null,$((p=a.postsPaginate)==null?void 0:p.data,d=>(r(),f(s,{key:d.id,post:d},null,8,["post"]))),128)}var et=u(Z,[["render",tt]]);const st={components:{ReportedPostsList:et}},ot=b(" lista reprots posts ");function nt(e,o,n,h,a,i){const s=m("ReportedPostsList");return r(),c(_,null,[ot,y(s)],64)}var it=u(st,[["render",nt]]);export{it as default};
